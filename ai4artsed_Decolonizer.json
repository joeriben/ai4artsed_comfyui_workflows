{"id":"51774992-2cc6-467d-b81d-cbed57895b7f","revision":0,"last_node_id":53,"last_link_id":82,"nodes":[{"id":7,"type":"CLIPTextEncode","pos":[1382.3824462890625,1219.0897216796875],"size":[425.27801513671875,180.6060791015625],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":5}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[6]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncode"},"widgets_values":["text, watermark"]},{"id":6,"type":"CLIPTextEncode","pos":[1382.6529541015625,1001.113525390625],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":3},{"name":"text","type":"STRING","widget":{"name":"text"},"link":63}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[4]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncode"},"widgets_values":["beautiful scenery nature glass bottle landscape, , purple galaxy bottle,"]},{"id":37,"type":"OllamaVision","pos":[178.61776733398438,-545.5267333984375],"size":[400,256],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":52}],"outputs":[{"localized_name":"description","name":"description","type":"STRING","links":[55]}],"title":"Ollama Vision: Image Analysis","properties":{"cnr_id":"comfyui-ollama","ver":"2.0.1","Node name for S&R":"OllamaVision"},"widgets_values":["Describe this image according to the 4 steps of image analysis according to Erwin Panofsky: \t1.\tPre-iconographic: Describe the image’s formal elements—shapes, lines, gestures—based on everyday visual recognition. Abstain from too early identification of inherent meanings. Is very sensitive to cultural and cultural-historical contexts.\n\t2.\tIconographic: Interprets the depicted motifs and their conventional meanings (e.g. a lamb as a symbol of Christ). Is very sensitive to cultural andn cultural-historical contexts.\n\t3.\tIconological: Uncovers the underlying cultural, philosophical, or historical worldview that informs the image’s symbolic structure. Is very sensitive to cultural andn cultural-historical contexts.\n\nBe detailed and verbose with your analysis. Rethink if you included every important details, be it about composition or single elements, including elements that are not clearly identifiable.","enable","http://127.0.0.1:11434","gemma3:27b",5,"text",899424849,"randomize"],"color":"#322","bgcolor":"#533"},{"id":29,"type":"LoadImage","pos":[-222.46347045898438,-388.9306640625],"size":[315,314],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[52,59]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"LoadImage"},"widgets_values":["IMG_2048.JPG","image",""],"color":"#232","bgcolor":"#353"},{"id":41,"type":"OllamaVision","pos":[179.51495361328125,-189.84716796875],"size":[400,256],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":59}],"outputs":[{"localized_name":"description","name":"description","type":"STRING","links":[61]}],"title":"Ollama Vision: Cultural Analysis","properties":{"cnr_id":"comfyui-ollama","ver":"2.0.1","Node name for S&R":"OllamaVision"},"widgets_values":["Analyze and assess the Cultural implications of the image. What kind of cultural gaze is applied? What kind of cultural context is depicted? What can be said about the relation of the image's author, the image, the image' style and genre, and the denoted contents of the image? Be very critical about stereotypes and clichés with regard to culture, gender, class, or nationalities.","enable","http://127.0.0.1:11434","gemma3:27b",5,"text",1113110721,"randomize"],"color":"#322","bgcolor":"#533"},{"id":38,"type":"Note","pos":[-745.59619140625,-766.2788696289062],"size":[476.82647705078125,364.1247863769531],"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[],"title":"Note: USE Prompts OR Image Inputs","properties":{},"widgets_values":["Use either a text prompt or load an image.\n\nMake sure to connect e\n- ither the \"STRING\" output of the prompt module\nor\n- the \"description\" output of tha \"Ollama Vision\" module\nto the \"input_prompt\" connector of the \"AI4ArtsEd Ollama Prompt: Cultural Translation\" Module.\n\nYou may alter the prompt (meta-) instruction in the \"AI4ARtsEd\" Nodes – however, if you do so, please do not save your workflow, but \"save as\" and choose a different name."],"color":"#323","bgcolor":"#535"},{"id":31,"type":"BetterString","pos":[-215.132080078125,-932.2680053710938],"size":[303.7013244628906,489.19525146484375],"flags":{},"order":2,"mode":0,"inputs":[{"name":"chain","shape":7,"type":"STRING","widget":{"name":"chain"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[]}],"title":"Input your prompt here","properties":{"cnr_id":"comfyui-better-strings","ver":"1.0.0","Node name for S&R":"BetterString"},"widgets_values":["",""],"color":"#232","bgcolor":"#353"},{"id":39,"type":"Note","pos":[1402.468505859375,-561.0052490234375],"size":[387.8731384277344,89.58631134033203],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[],"title":"Note: Activate \"unload\"","properties":{},"widgets_values":["When chaining \"AI4ArtsEd Ollama Prompt\" Modules after each other, make sure to \n1) use the same model in each Module, and\n2) check \"enable\" in the field \"unload after\" ONLY in the last module of the chain. (This will free up memory for image generation.)"],"color":"#323","bgcolor":"#535"},{"id":28,"type":"PrimitiveString","pos":[925.921875,-19.263771057128906],"size":[736.7470703125,59.96985626220703],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[64]}],"title":"Provide a context: neutral","properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"PrimitiveString"},"widgets_values":[" 1999 characters maximum output length!"],"color":"#232","bgcolor":"#353"},{"id":16,"type":"ai4artsed_ollama","pos":[702.0966796875,-403.8858337402344],"size":[569.6773071289062,302.4618225097656],"flags":{},"order":12,"mode":0,"inputs":[{"name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":55},{"name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":61}],"outputs":[{"localized_name":"output","name":"output","type":"STRING","links":[62,67]}],"title":"AI4ArtsEd Ollama Prompt: Critical Artistic Reflection","properties":{"aux_id":"joeriben/ai4artsed_comfyui","ver":"06fa1734c5d6c8c6c77e51a78e7ee009730e208e","Node name for S&R":"ai4artsed_ollama"},"widgets_values":["","","You are a highly trained and experienced artist. You analyze the ideas you receive with utmost critical precision. \nBefore answering, you critically reflect the input in terms of Glissant, Fanon, Adorno, Derrida, Spivak, Mignolo, Amitav Gosh, also Octavia E. Butler, Donna Haraway, Eduardo Viveiros de Castro, Isabelle Stengers, Achille Mbembe, Rosi Braidotti, Anna Tsing, Boaventura de Sousa Santos, Dipesh Chakrabarty. Artistically, you reflect on ideas of Zanele Muholi, Kader Attia, Ahlam Shibli, Candice Breitz, Forensic Architecture, Otobong Nkanga, Tabita Rezaire, Cecilia Vicuña, Hito Steyerl, Morehshin Allahyari, Jenn Nkiru, Walid Raad, LaToya Ruby Frazier, Trinh T. Minh-ha, Teresa Margolles.\nYou appreciate the given image description as an inspiration for an artwork. Stay true to its elements, but transform them critically as you see fit. E.g., where you see colonialism, classism, sexism, suggest an artwork that criticizes its roots. Where you see positive ideas, support those.\nYou are very aware that art conveys a responsibility not only in terms of quality, but in terms of values such as diversity, decolonial thinking, justice, and peace. Everytime you reflect about art, you take these aspects into consideration. You NEVER talk about art, but your talk is art. NEVER TALK ABOUT ART, never begin a sentence with \"arts is\" or similar.\nBefore your output, make sure it still refers to the input. It has to critically appreciate the input.","http://localhost:11434","gemma3:27b","enable","disable"],"color":"#322","bgcolor":"#533"},{"id":8,"type":"VAEDecode","pos":[1522.18212890625,686.0430297851562],"size":[210,46],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":7},{"localized_name":"vae","name":"vae","type":"VAE","link":8}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[9,65]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":4,"type":"CheckpointLoaderSimple","pos":[-224.57467651367188,161.08981323242188],"size":[730.3237915039062,114.64132690429688],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[1,71]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":1,"links":[3,5,72,74]},{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":2,"links":[8,73]}],"title":"Choose your model (or leave the preset)","properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["sd3.5_large_fp8_scaled.safetensors"],"color":"#232","bgcolor":"#353"},{"id":44,"type":"OllamaVision","pos":[2065.404541015625,-580.5933837890625],"size":[400,256],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":65}],"outputs":[{"localized_name":"description","name":"description","type":"STRING","links":[68]}],"properties":{"cnr_id":"comfyui-ollama","ver":"2.0.1","Node name for S&R":"OllamaVision"},"widgets_values":["explain the cultural and culture-specific aesthetic elements of the input. keep it short, make a list","enable","http://127.0.0.1:11434","gemma3:27b",5,"text",1670376184,"randomize"],"color":"#322","bgcolor":"#533"},{"id":52,"type":"OllamaVision","pos":[3374.355224609375,-602.2905883789062],"size":[400,256],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":76}],"outputs":[{"localized_name":"description","name":"description","type":"STRING","links":[]}],"properties":{"cnr_id":"comfyui-ollama","ver":"2.0.1","Node name for S&R":"OllamaVision"},"widgets_values":["explain the cultural and culture-specific aesthetic elements of the input. keep it short, make a list","enable","http://127.0.0.1:11434","gemma3:27b",5,"text",14732258,"randomize"],"color":"#322","bgcolor":"#533"},{"id":9,"type":"SaveImage","pos":[2059.675537109375,-260.7544250488281],"size":[409.6346740722656,378.33929443359375],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":9}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27"},"widgets_values":["ComfyUI",""]},{"id":53,"type":"SaveImage","pos":[3374.247802734375,-236.08273315429688],"size":[409.6346740722656,378.33929443359375],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":75}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.27"},"widgets_values":["ComfyUI"]},{"id":51,"type":"VAEDecode","pos":[2940.17333984375,649.0556640625],"size":[210,46],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":82},{"localized_name":"vae","name":"vae","type":"VAE","link":73}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[75,76]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":49,"type":"CLIPTextEncode","pos":[2779.571044921875,844.6902465820312],"size":[422.84503173828125,164.31304931640625],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":74},{"name":"text","type":"STRING","widget":{"name":"text"},"link":80}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[78]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncode"},"widgets_values":["beautiful scenery nature glass bottle landscape, , purple galaxy bottle,"]},{"id":43,"type":"ai4artsed_ollama","pos":[1377.6448974609375,-398.1116638183594],"size":[470.3999938964844,292],"flags":{},"order":13,"mode":0,"inputs":[{"name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":62},{"name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":64}],"outputs":[{"localized_name":"output","name":"output","type":"STRING","links":[63,70]}],"title":"AI4ArtsEd Ollama Prompt: Reflection -> Image Description","properties":{"aux_id":"joeriben/ai4artsed_comfyui","ver":"916f953c3d3977062990906aec5c9da0fc618deb","Node name for S&R":"ai4artsed_ollama"},"widgets_values":["","","You are confronted with an artistic idea. Your task is it to analyze the text and create a concrete description of an image.  You always reflect on cultural aesthetics that regard and appreciate non-western aesthetics likewise. You maintain the core motives and elements of the description.\n\nStart with the structure of the image by describing its structural elements and composition. Proceed with detailed – culturally responsive – desriptions of items and entities that are important to the input text. Mention materials and atmospheres, too.","http://localhost:11434","gemma3:27b","enable","enable"],"color":"#322","bgcolor":"#533"},{"id":45,"type":"ai4artsed_ollama","pos":[2576.196044921875,-894.6820068359375],"size":[400,292],"flags":{},"order":19,"mode":0,"inputs":[{"name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":67},{"name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":68}],"outputs":[{"localized_name":"output","name":"output","type":"STRING","links":[69]}],"properties":{"aux_id":"joeriben/ai4artsed_comfyui","ver":"916f953c3d3977062990906aec5c9da0fc618deb","Node name for S&R":"ai4artsed_ollama"},"widgets_values":["","","Compare the two textual image descriptions. Where do they match, where do they differ? Start with a procentual estimation of the correlation. Proceed with similarities. Sort your remarks from more higher conceptual to more concrete subjects. Proceed with differences. Sort your remarks from more higher conceptual to more concrete subjects.","http://localhost:11434","gemma3:27b","enable","disable"],"color":"#322","bgcolor":"#533"},{"id":46,"type":"ai4artsed_ollama","pos":[2734.8271484375,-380.7181396484375],"size":[400,292],"flags":{},"order":20,"mode":0,"inputs":[{"name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":70},{"name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":69}],"outputs":[{"localized_name":"output","name":"output","type":"STRING","links":[80]}],"properties":{"aux_id":"joeriben/ai4artsed_comfyui","ver":"916f953c3d3977062990906aec5c9da0fc618deb","Node name for S&R":"ai4artsed_ollama"},"widgets_values":["","","Analyze the original image prompt. Analyze the comparisons. Create a prompt that enhances the similarities and finds ways to reduce the differences.","http://localhost:11434","gemma3:27b","enable","enable"],"color":"#322","bgcolor":"#533"},{"id":3,"type":"KSampler","pos":[2221.951171875,1190.150146484375],"size":[352.9214782714844,262],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":1},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":4},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":6},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":2}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[7]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"KSampler"},"widgets_values":[214425752840030,"randomize",25,7,"euler","normal",1]},{"id":50,"type":"CLIPTextEncode","pos":[2787.395263671875,1179.218017578125],"size":[425.27801513671875,180.6060791015625],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":72}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[79]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"CLIPTextEncode"},"widgets_values":["text, watermark"]},{"id":48,"type":"EmptyLatentImage","pos":[2972.498779296875,1446.1483154296875],"size":[315,106],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[77]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1024,1]},{"id":5,"type":"EmptyLatentImage","pos":[1815.5670166015625,1535.0531005859375],"size":[315,106],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[2]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1024,1]},{"id":47,"type":"KSampler","pos":[3292.3515625,1102.5843505859375],"size":[352.9214782714844,262],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":71},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":78},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":79},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":77}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[82]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.27","Node name for S&R":"KSampler"},"widgets_values":[213164860954560,"randomize",25,7,"euler","normal",1]}],"links":[[1,4,0,3,0,"MODEL"],[2,5,0,3,3,"LATENT"],[3,4,1,6,0,"CLIP"],[4,6,0,3,1,"CONDITIONING"],[5,4,1,7,0,"CLIP"],[6,7,0,3,2,"CONDITIONING"],[7,3,0,8,0,"LATENT"],[8,4,2,8,1,"VAE"],[9,8,0,9,0,"IMAGE"],[52,29,0,37,0,"IMAGE"],[55,37,0,16,0,"STRING"],[59,29,0,41,0,"IMAGE"],[61,41,0,16,3,"STRING"],[62,16,0,43,0,"STRING"],[63,43,0,6,1,"STRING"],[64,28,0,43,2,"STRING"],[65,8,0,44,0,"IMAGE"],[67,16,0,45,0,"STRING"],[68,44,0,45,2,"STRING"],[69,45,0,46,2,"STRING"],[70,43,0,46,0,"STRING"],[71,4,0,47,0,"MODEL"],[72,4,1,50,0,"CLIP"],[73,4,2,51,1,"VAE"],[74,4,1,49,0,"CLIP"],[75,51,0,53,0,"IMAGE"],[76,51,0,52,0,"IMAGE"],[77,48,0,47,3,"LATENT"],[78,49,0,47,1,"CONDITIONING"],[79,50,0,47,2,"CONDITIONING"],[80,46,0,49,1,"STRING"],[82,47,0,51,0,"LATENT"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.6934334949441342,"offset":[-224.38047877688467,622.7536128027764]},"linkExtensions":[{"id":19,"parentId":1}]},"version":0.4}