{
  "id": "e057e595-9681-479b-b912-2a067c1b6932",
  "revision": 0,
  "last_node_id": 66,
  "last_link_id": 100,
  "nodes": [
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": [
        3368.762939453125,
        -44.54716491699219
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "samples",
          "name": "samples",
          "type": "LATENT",
          "link": 7
        },
        {
          "localized_name": "vae",
          "name": "vae",
          "type": "VAE",
          "link": 8
        }
      ],
      "outputs": [
        {
          "localized_name": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            9
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode",
        "cnr_id": "comfy-core",
        "ver": "0.3.28"
      },
      "widgets_values": [],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 5,
      "type": "EmptyLatentImage",
      "pos": [
        3320.923828125,
        60.93609619140625
      ],
      "size": [
        315,
        106
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "width",
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": null
        },
        {
          "localized_name": "height",
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": null
        },
        {
          "localized_name": "batch_size",
          "name": "batch_size",
          "type": "INT",
          "widget": {
            "name": "batch_size"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "LATENT",
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            2
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage",
        "cnr_id": "comfy-core",
        "ver": "0.3.28"
      },
      "widgets_values": [
        1024,
        1024,
        1
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 9,
      "type": "SaveImage",
      "pos": [
        3672.105712890625,
        -527.1815795898438
      ],
      "size": [
        626.985595703125,
        683.2880249023438
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 9
        },
        {
          "localized_name": "filename_prefix",
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          },
          "link": null
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.28"
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 4,
      "type": "CheckpointLoaderSimple",
      "pos": [
        2862.589111328125,
        -531.862060546875
      ],
      "size": [
        417.40997314453125,
        102.49164581298828
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "ckpt_name",
          "name": "ckpt_name",
          "type": "COMBO",
          "widget": {
            "name": "ckpt_name"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "MODEL",
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            1
          ]
        },
        {
          "localized_name": "CLIP",
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": []
        },
        {
          "localized_name": "VAE",
          "name": "VAE",
          "type": "VAE",
          "slot_index": 2,
          "links": [
            8
          ]
        }
      ],
      "title": "Choose your checkpoint ( = image generation model)",
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple",
        "cnr_id": "comfy-core",
        "ver": "0.3.28"
      },
      "widgets_values": [
        "OfficialStableDiffusion/sd3.5_large.safetensors"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 7,
      "type": "CLIPTextEncode",
      "pos": [
        2870.167236328125,
        -47.072792053222656
      ],
      "size": [
        425.27801513671875,
        180.6060791015625
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "clip",
          "name": "clip",
          "type": "CLIP",
          "link": 64
        },
        {
          "localized_name": "text",
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            6
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.28"
      },
      "widgets_values": [
        "watermark"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        2865.439697265625,
        -312.6529541015625
      ],
      "size": [
        422.84503173828125,
        164.31304931640625
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "clip",
          "name": "clip",
          "type": "CLIP",
          "link": 63
        },
        {
          "localized_name": "text",
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 100
        }
      ],
      "outputs": [
        {
          "localized_name": "CONDITIONING",
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            4
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "CLIPTextEncode",
        "cnr_id": "comfy-core",
        "ver": "0.3.28"
      },
      "widgets_values": [
        "A banner showing DEFAULT PROMPT, EINGABE FEHLGESCHLAGEN"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 43,
      "type": "DualCLIPLoader",
      "pos": [
        3331.65087890625,
        -526.0765380859375
      ],
      "size": [
        299.0378723144531,
        130
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "clip_name1",
          "name": "clip_name1",
          "type": "COMBO",
          "widget": {
            "name": "clip_name1"
          },
          "link": null
        },
        {
          "localized_name": "clip_name2",
          "name": "clip_name2",
          "type": "COMBO",
          "widget": {
            "name": "clip_name2"
          },
          "link": null
        },
        {
          "localized_name": "type",
          "name": "type",
          "type": "COMBO",
          "widget": {
            "name": "type"
          },
          "link": null
        },
        {
          "localized_name": "device",
          "name": "device",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "device"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "CLIP",
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            63,
            64
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "DualCLIPLoader"
      },
      "widgets_values": [
        "clip_g.safetensors",
        "t5xxl_enconly.safetensors",
        "sd3",
        "default"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 3,
      "type": "KSampler",
      "pos": [
        3335.7138671875,
        -361.91485595703125
      ],
      "size": [
        300.6266784667969,
        474
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "model",
          "name": "model",
          "type": "MODEL",
          "link": 1
        },
        {
          "localized_name": "positive",
          "name": "positive",
          "type": "CONDITIONING",
          "link": 4
        },
        {
          "localized_name": "negative",
          "name": "negative",
          "type": "CONDITIONING",
          "link": 6
        },
        {
          "localized_name": "latent_image",
          "name": "latent_image",
          "type": "LATENT",
          "link": 2
        },
        {
          "localized_name": "seed",
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          },
          "link": null
        },
        {
          "localized_name": "steps",
          "name": "steps",
          "type": "INT",
          "widget": {
            "name": "steps"
          },
          "link": null
        },
        {
          "localized_name": "cfg",
          "name": "cfg",
          "type": "FLOAT",
          "widget": {
            "name": "cfg"
          },
          "link": null
        },
        {
          "localized_name": "sampler_name",
          "name": "sampler_name",
          "type": "COMBO",
          "widget": {
            "name": "sampler_name"
          },
          "link": null
        },
        {
          "localized_name": "scheduler",
          "name": "scheduler",
          "type": "COMBO",
          "widget": {
            "name": "scheduler"
          },
          "link": null
        },
        {
          "localized_name": "denoise",
          "name": "denoise",
          "type": "FLOAT",
          "widget": {
            "name": "denoise"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "LATENT",
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            7
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler",
        "cnr_id": "comfy-core",
        "ver": "0.3.28"
      },
      "widgets_values": [
        65471008367908,
        "randomize",
        25,
        5.5,
        "euler",
        "normal",
        1
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 34,
      "type": "ai4artsed_prompt_interception",
      "pos": [
        -1701.8123779296875,
        -219.00228881835938
      ],
      "size": [
        400,
        376
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "input_prompt",
          "name": "input_prompt",
          "type": "STRING",
          "widget": {
            "name": "input_prompt"
          },
          "link": null
        },
        {
          "localized_name": "input_context",
          "name": "input_context",
          "type": "STRING",
          "widget": {
            "name": "input_context"
          },
          "link": null
        },
        {
          "localized_name": "style_prompt",
          "name": "style_prompt",
          "type": "STRING",
          "widget": {
            "name": "style_prompt"
          },
          "link": null
        },
        {
          "localized_name": "api_key",
          "name": "api_key",
          "type": "STRING",
          "widget": {
            "name": "api_key"
          },
          "link": 51
        },
        {
          "localized_name": "model",
          "name": "model",
          "type": "COMBO",
          "widget": {
            "name": "model"
          },
          "link": null
        },
        {
          "localized_name": "debug",
          "name": "debug",
          "type": "COMBO",
          "widget": {
            "name": "debug"
          },
          "link": null
        },
        {
          "localized_name": "unload_model",
          "name": "unload_model",
          "type": "COMBO",
          "widget": {
            "name": "unload_model"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "output_str",
          "name": "output_str",
          "type": "STRING",
          "links": []
        },
        {
          "localized_name": "output_float",
          "name": "output_float",
          "type": "FLOAT",
          "links": null
        },
        {
          "localized_name": "output_int",
          "name": "output_int",
          "type": "INT",
          "links": null
        },
        {
          "localized_name": "output_binary",
          "name": "output_binary",
          "type": "BOOLEAN",
          "links": null
        }
      ],
      "title": "AI4ArtsEd Translation_english",
      "properties": {
        "Node name for S&R": "ai4artsed_prompt_interception"
      },
      "widgets_values": [
        "",
        "professional translator",
        "Translate the prompt into English with maximal semantic preservation. If it is already in English, do not change the input.\n\nException: The following keywords must remain exactly as they appear and must not be translated or altered:\n- context:\n- Kontext:\n- Kunstform\n- art form:\n- Style:\n- Stil:\n- Prompt Interception:\n- Promptinterception\n- Prompt-Interception\n- PromptInterception\n\nPreserve the original structure and formatting. Maintain the exact order and punctuation of the input wherever possible.\n\nDo not translate or modify:\n- Proper names\n- Ritual terms\n- Material names\nunless there is a widely used English equivalent.\n\nMark such culturally specific or untranslated terms using double square brackets (e.g. [[egungun]]) and leave them in their original position.\n\nDo not paraphrase, interpret, summarize, or rephrase. Do not add any comments, notes, or explanations.\n\nReturn only the translated prompt as plain text output, with no extra text.\n",
        "",
        "local/mistral:7b",
        "enable",
        "yes"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 11,
      "type": "ai4artsed_openrouter_key",
      "pos": [
        -1394.1829833984375,
        209.9764862060547
      ],
      "size": [
        441,
        26
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "localized_name": "STRING",
          "name": "STRING",
          "type": "STRING",
          "links": [
            51,
            59,
            70
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ai4artsed_openrouter_key",
        "aux_id": "joeriben/ai4artsed_comfyui",
        "ver": "e511931edb551d65374c44689e76c08794ed31e7"
      },
      "widgets_values": [],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 26,
      "type": "PrimitiveString",
      "pos": [
        -1702.4249267578125,
        -399.7958068847656
      ],
      "size": [
        826.6832275390625,
        109.9383544921875
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "value",
          "name": "value",
          "type": "STRING",
          "widget": {
            "name": "value"
          },
          "link": 56
        }
      ],
      "outputs": [
        {
          "localized_name": "STRING",
          "name": "STRING",
          "type": "STRING",
          "links": [
            71,
            77
          ]
        }
      ],
      "title": "ai4artsed_text_prompt",
      "properties": {
        "Node name for S&R": "PrimitiveString",
        "cnr_id": "comfy-core",
        "ver": "0.3.36"
      },
      "widgets_values": [
        "Ein Banner mit der Aufschrift ACHTUNG DEFAULT-PROMPT!"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 50,
      "type": "PreviewAny",
      "pos": [
        33.73469161987305,
        -95.05421447753906
      ],
      "size": [
        265.44842529296875,
        394.9794006347656
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "source",
          "name": "source",
          "type": "*",
          "link": 79
        }
      ],
      "outputs": [],
      "title": "identified rompt",
      "properties": {
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 49,
      "type": "PreviewAny",
      "pos": [
        43.67214584350586,
        -624.02197265625
      ],
      "size": [
        250.3189697265625,
        403.804931640625
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "source",
          "name": "source",
          "type": "*",
          "link": 78
        }
      ],
      "outputs": [],
      "title": "identified meta-prompt",
      "properties": {
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 37,
      "type": "PrimitiveStringMultiline",
      "pos": [
        -1691.0318603515625,
        -666.3721923828125
      ],
      "size": [
        806.9450073242188,
        211.6782989501953
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "value",
          "name": "value",
          "type": "STRING",
          "widget": {
            "name": "value"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "STRING",
          "name": "STRING",
          "type": "STRING",
          "links": [
            56
          ]
        }
      ],
      "title": "Just a more convenient input for your prompt",
      "properties": {
        "Node name for S&R": "PrimitiveStringMultiline"
      },
      "widgets_values": [
        "If this is your prompt, put the interception part, or your meta-prompt, in (((triple brackets)))."
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 40,
      "type": "Note",
      "pos": [
        -823.0770874023438,
        -1090.547119140625
      ],
      "size": [
        1141.81103515625,
        206.84544372558594
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "How to use this template",
      "properties": {},
      "widgets_values": [
        "Dieser Workflow ermöglicht die Eingabe eines Prompts UND eines Meta-Prompts im selben Eingabefeld. Der Meta-Prompt muss (((innerhalb einer dreifachen Klammer))) angegeben werden."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 46,
      "type": "PreviewAny",
      "pos": [
        435.3626708984375,
        -25.200273513793945
      ],
      "size": [
        1019.6875,
        324.28460693359375
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "source",
          "name": "source",
          "type": "*",
          "link": 68
        }
      ],
      "outputs": [],
      "title": "intercepted prompt",
      "properties": {
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 47,
      "type": "ai4artsed_prompt_interception",
      "pos": [
        -699.4671630859375,
        -627.7313842773438
      ],
      "size": [
        689.4391479492188,
        415.4588317871094
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "input_prompt",
          "name": "input_prompt",
          "type": "STRING",
          "widget": {
            "name": "input_prompt"
          },
          "link": 71
        },
        {
          "localized_name": "input_context",
          "name": "input_context",
          "type": "STRING",
          "widget": {
            "name": "input_context"
          },
          "link": null
        },
        {
          "localized_name": "style_prompt",
          "name": "style_prompt",
          "type": "STRING",
          "widget": {
            "name": "style_prompt"
          },
          "link": null
        },
        {
          "localized_name": "api_key",
          "name": "api_key",
          "type": "STRING",
          "widget": {
            "name": "api_key"
          },
          "link": 70
        },
        {
          "localized_name": "model",
          "name": "model",
          "type": "COMBO",
          "widget": {
            "name": "model"
          },
          "link": null
        },
        {
          "localized_name": "debug",
          "name": "debug",
          "type": "COMBO",
          "widget": {
            "name": "debug"
          },
          "link": null
        },
        {
          "localized_name": "unload_model",
          "name": "unload_model",
          "type": "COMBO",
          "widget": {
            "name": "unload_model"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "output_str",
          "name": "output_str",
          "type": "STRING",
          "links": [
            74,
            75,
            78
          ]
        },
        {
          "localized_name": "output_float",
          "name": "output_float",
          "type": "FLOAT",
          "links": null
        },
        {
          "localized_name": "output_int",
          "name": "output_int",
          "type": "INT",
          "links": null
        },
        {
          "localized_name": "output_binary",
          "name": "output_binary",
          "type": "BOOLEAN",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "ai4artsed_prompt_interception"
      },
      "widgets_values": [
        "",
        "context identifier",
        "search the input_prompt for contexts indicated triple brackets (((such as this))) or [[[such as this]]].\n\nOutput ONLY THE TEXT INSIDE THE BRACKETS. Be sure to ouput the WHOLE TEXT INSIDE THE BRACKETS.\n\nIf there is no text indicated, only output the word \"NULL\".",
        "",
        "local/mistral-nemo:latest [local / $0.00]",
        "enable",
        "no"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 48,
      "type": "ai4artsed_prompt_interception",
      "pos": [
        -695.8779296875,
        -113.41471862792969
      ],
      "size": [
        689.4391479492188,
        415.4588317871094
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "input_prompt",
          "name": "input_prompt",
          "type": "STRING",
          "widget": {
            "name": "input_prompt"
          },
          "link": 77
        },
        {
          "localized_name": "input_context",
          "name": "input_context",
          "type": "STRING",
          "widget": {
            "name": "input_context"
          },
          "link": 75
        },
        {
          "localized_name": "style_prompt",
          "name": "style_prompt",
          "type": "STRING",
          "widget": {
            "name": "style_prompt"
          },
          "link": null
        },
        {
          "localized_name": "api_key",
          "name": "api_key",
          "type": "STRING",
          "widget": {
            "name": "api_key"
          },
          "link": null
        },
        {
          "localized_name": "model",
          "name": "model",
          "type": "COMBO",
          "widget": {
            "name": "model"
          },
          "link": null
        },
        {
          "localized_name": "debug",
          "name": "debug",
          "type": "COMBO",
          "widget": {
            "name": "debug"
          },
          "link": null
        },
        {
          "localized_name": "unload_model",
          "name": "unload_model",
          "type": "COMBO",
          "widget": {
            "name": "unload_model"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "output_str",
          "name": "output_str",
          "type": "STRING",
          "links": [
            76,
            79
          ]
        },
        {
          "localized_name": "output_float",
          "name": "output_float",
          "type": "FLOAT",
          "links": null
        },
        {
          "localized_name": "output_int",
          "name": "output_int",
          "type": "INT",
          "links": null
        },
        {
          "localized_name": "output_binary",
          "name": "output_binary",
          "type": "BOOLEAN",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "ai4artsed_prompt_interception"
      },
      "widgets_values": [
        "",
        "context identifier",
        "You receive two strings: an input_prompt and a context. REMOVE the \"context\" from the \"input_prompt\". Then pass on the complete input_prompt without any alteration.",
        "",
        "local/mistral-nemo:latest [local / $0.00]",
        "enable",
        "no"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 41,
      "type": "ai4artsed_prompt_interception",
      "pos": [
        425.4952392578125,
        -745.4190063476562
      ],
      "size": [
        1020.9003295898438,
        659.5474243164062
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "input_prompt",
          "name": "input_prompt",
          "type": "STRING",
          "widget": {
            "name": "input_prompt"
          },
          "link": 76
        },
        {
          "localized_name": "input_context",
          "name": "input_context",
          "type": "STRING",
          "widget": {
            "name": "input_context"
          },
          "link": 74
        },
        {
          "localized_name": "style_prompt",
          "name": "style_prompt",
          "type": "STRING",
          "widget": {
            "name": "style_prompt"
          },
          "link": null
        },
        {
          "localized_name": "api_key",
          "name": "api_key",
          "type": "STRING",
          "widget": {
            "name": "api_key"
          },
          "link": 59
        },
        {
          "localized_name": "model",
          "name": "model",
          "type": "COMBO",
          "widget": {
            "name": "model"
          },
          "link": null
        },
        {
          "localized_name": "debug",
          "name": "debug",
          "type": "COMBO",
          "widget": {
            "name": "debug"
          },
          "link": null
        },
        {
          "localized_name": "unload_model",
          "name": "unload_model",
          "type": "COMBO",
          "widget": {
            "name": "unload_model"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "output_str",
          "name": "output_str",
          "type": "STRING",
          "links": [
            68,
            98
          ]
        },
        {
          "localized_name": "output_float",
          "name": "output_float",
          "type": "FLOAT",
          "links": null
        },
        {
          "localized_name": "output_int",
          "name": "output_int",
          "type": "INT",
          "links": null
        },
        {
          "localized_name": "output_binary",
          "name": "output_binary",
          "type": "BOOLEAN",
          "links": null
        }
      ],
      "properties": {
        "Node name for S&R": "ai4artsed_prompt_interception"
      },
      "widgets_values": [
        "",
        "",
        "You received two inputs: 1) the input_prompt and 2) the input_context. \n\nTransform the input_prompt into an image description according to the instructions defined in the input_context. Explicitely communicate the input_context as cultural cf. artistic. cf intervening context. Also communicate genres/artistic traditions in a concrete way (i.e. is it a dance, a photo, a painting, a song, a movie, a statue/sculpture? how should it be translated into an image?)\n\nThis is not a linguistic translation, but a aesthetic, semantic and structural transformation. Be verbose!\n\nReconstruct all entities and their relations as specified, ensuring that:\n- Each entity is retained – or respectively transformed – as instructed.\n- Each relation is altered in line with the particular aesthetics, genre-typical traits, and logic of the “Context”. Be explicit about visual aesthetics in terms of materials, techniques, composition, and overall atmosphere. Mention the input_context als cultural, cf. artistic, c.f intervening context in your OUTPUT explicitely.\n\nOutput only the transformed description as plain descriptive text. Be aware if the output is something depicted (like a ritual or any situation) OR itself a cultural artefact (such as a specific drawing technique). Describe accordingly. In your output, communicate which elements are most important for an succeeding image generation.\n",
        "",
        "local/mistral-nemo:latest [local / $0.00]",
        "enable",
        "no"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 66,
      "type": "PreviewAny",
      "pos": [
        1611.714599609375,
        -26.308332443237305
      ],
      "size": [
        948.2135009765625,
        320.93426513671875
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "source",
          "name": "source",
          "type": "*",
          "link": 99
        }
      ],
      "outputs": [],
      "title": "final prompt",
      "properties": {
        "Node name for S&R": "PreviewAny"
      },
      "widgets_values": []
    },
    {
      "id": 65,
      "type": "ai4artsed_prompt_interception",
      "pos": [
        1589.8524169921875,
        -719.7061767578125
      ],
      "size": [
        964.7625122070312,
        621.7645874023438
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "localized_name": "input_prompt",
          "name": "input_prompt",
          "type": "STRING",
          "widget": {
            "name": "input_prompt"
          },
          "link": 98
        },
        {
          "localized_name": "input_context",
          "name": "input_context",
          "type": "STRING",
          "widget": {
            "name": "input_context"
          },
          "link": null
        },
        {
          "localized_name": "style_prompt",
          "name": "style_prompt",
          "type": "STRING",
          "widget": {
            "name": "style_prompt"
          },
          "link": null
        },
        {
          "localized_name": "api_key",
          "name": "api_key",
          "type": "STRING",
          "widget": {
            "name": "api_key"
          },
          "link": null
        },
        {
          "localized_name": "model",
          "name": "model",
          "type": "COMBO",
          "widget": {
            "name": "model"
          },
          "link": null
        },
        {
          "localized_name": "debug",
          "name": "debug",
          "type": "COMBO",
          "widget": {
            "name": "debug"
          },
          "link": null
        },
        {
          "localized_name": "unload_model",
          "name": "unload_model",
          "type": "COMBO",
          "widget": {
            "name": "unload_model"
          },
          "link": null
        },
        {
          "localized_name": "output_format",
          "name": "output_format",
          "type": "COMBO",
          "widget": {
            "name": "output_format"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "localized_name": "output_str",
          "name": "output_str",
          "type": "STRING",
          "links": [
            99,
            100
          ]
        },
        {
          "localized_name": "output_float",
          "name": "output_float",
          "type": "FLOAT",
          "links": null
        },
        {
          "localized_name": "output_int",
          "name": "output_int",
          "type": "INT",
          "links": null
        },
        {
          "localized_name": "output_binary",
          "name": "output_binary",
          "type": "BOOLEAN",
          "links": null
        }
      ],
      "title": "Promtp optimization for t5",
      "properties": {
        "Node name for S&R": "ai4artsed_prompt_interception"
      },
      "widgets_values": [
        "",
        "Prompting Expert",
        "YOUR OUTPUT MUST NOT EXCEED 250 WORDS!\n\nTransform the following input text—regardless of genre—into a single, uninterrupted paragraph structured for encoding by a T5 model and subsequent conditioning of a Stable Diffusion 3.5 (or Flux1) image generation model.\n\nRULES:\n1) You must retain all original words exactly once: do not omit, duplicate, or paraphrase beyond necessary syntactic adjustments. \n2) Do translate content into a visual depiction/description. Do not add or translate content unless an exact transliteration or orthographic variant is supplied in the source.\n3) When the original tells a story, pick a key scene from the story and turn the text into a scenic description, using the original words and expressions.  \n\nGUIDANCE:\nConsider the following categories as guideline for your professional prompting process:\n- Core subject (approx. 10–30 tokens): Identify and foreground the principal subject matter as fully specified in the source.\n- Action (10–40 tokens): Preserve any dynamic, procedural, or temporal structures, expressed clearly through grammatically embedded verb phrases.\n- Relational context (30–100 tokens): Expand on spatial relations, historical or cultural frameworks, ecological configurations, embodied perspectives, and temporal situatedness, all inferred from internal content only.\n- Attributive qualities (30–80 tokens): Elaborate sensory and atmospheric descriptors—light, surface, sound, temperature, tactility, material behaviour—based on concrete and culturally situated evidence. Avoid cliché mappings such as “melancholy → rain” or “futurism → neon.” Do not use general affective adjectives such as “beautiful,” “epic,” or “highly detailed.” Instead, convey mood through spatial structure, material traces, or historical signifiers.\n- Material, stylistic and medial references (10–40 tokens): If applicable, retain or clarify materialities (pictorial mediality), stylistic provenance using historically anchored terms (e.g., “early Bauhaus sketch,” “Qing-dynasty monochrome ink”). Avoid genre tropes unless explicitly included in the original text.\n- Technical parameters (0–20 tokens): Place any camera data, aspect ratio at the end of the prompt. Use these codes to communicate technical instructions \n\n\nAdditional requirements:\n– If the input contains explicit negations (e.g., “no neon”), isolate and place them at the end of the prompt after an em dash as a negative prompt clause.\n– If the source uses conflicting descriptors (e.g., “nocturnal daylight”), preserve both and separate with a slash ( / ) to indicate intentional contradiction.\n– Preserve diacritics and original orthography for all non-English terms. Do not transliterate unless a dual form is provided.\n– For ambiguous or poetic language, preserve ambiguity. If metaphors operate structurally (e.g., “grief carved into the orchard”), translate them into spatial/material compositions rather than interpretive paraphrase.\n– If vague temporal expressions appear (e.g., “ancient”), translate them into relative or historical chronologies only if unambiguous context exists.\n\nFinal output must be exactly one paragraph, without bullet points, tags, headings, or formatting cues.\n\n!YOUR OUTPUT MUST NOT EXCEED 250 WORDS!",
        "",
        "local/mistral-nemo:latest [local / $0.00]",
        "enable",
        "yes"
      ],
      "color": "#322",
      "bgcolor": "#533"
    }
  ],
  "links": [
    [
      1,
      4,
      0,
      3,
      0,
      "MODEL"
    ],
    [
      2,
      5,
      0,
      3,
      3,
      "LATENT"
    ],
    [
      4,
      6,
      0,
      3,
      1,
      "CONDITIONING"
    ],
    [
      6,
      7,
      0,
      3,
      2,
      "CONDITIONING"
    ],
    [
      7,
      3,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      8,
      4,
      2,
      8,
      1,
      "VAE"
    ],
    [
      9,
      8,
      0,
      9,
      0,
      "IMAGE"
    ],
    [
      51,
      11,
      0,
      34,
      3,
      "STRING"
    ],
    [
      56,
      37,
      0,
      26,
      0,
      "STRING"
    ],
    [
      59,
      11,
      0,
      41,
      3,
      "STRING"
    ],
    [
      63,
      43,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      64,
      43,
      0,
      7,
      0,
      "CLIP"
    ],
    [
      68,
      41,
      0,
      46,
      0,
      "*"
    ],
    [
      70,
      11,
      0,
      47,
      3,
      "STRING"
    ],
    [
      71,
      26,
      0,
      47,
      0,
      "STRING"
    ],
    [
      74,
      47,
      0,
      41,
      1,
      "STRING"
    ],
    [
      75,
      47,
      0,
      48,
      1,
      "STRING"
    ],
    [
      76,
      48,
      0,
      41,
      0,
      "STRING"
    ],
    [
      77,
      26,
      0,
      48,
      0,
      "STRING"
    ],
    [
      78,
      47,
      0,
      49,
      0,
      "*"
    ],
    [
      79,
      48,
      0,
      50,
      0,
      "*"
    ],
    [
      98,
      41,
      0,
      65,
      0,
      "STRING"
    ],
    [
      99,
      65,
      0,
      66,
      0,
      "*"
    ],
    [
      100,
      65,
      0,
      6,
      1,
      "STRING"
    ]
  ],
  "groups": [
    {
      "id": 2,
      "title": "ai4artsed standard prompt input and translation",
      "bounding": [
        -1712.4249267578125,
        -739.97216796875,
        856.890869140625,
        994.489501953125
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "ai4artsed output sd3.5 turbo",
      "bounding": [
        2849.46142578125,
        -605.8286743164062,
        1459.6298828125,
        782.7643432617188
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "Prompt Interception",
      "bounding": [
        398.1179504394531,
        -846.1421508789062,
        1078.908935546875,
        1194.64697265625
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Prompt - Metaprompt Separation",
      "bounding": [
        -779.182861328125,
        -778.9630737304688,
        1131.9725341796875,
        1222.31201171875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Prompt finishing",
      "bounding": [
        1565.3985595703125,
        -849.7943725585938,
        1052.807373046875,
        1225.393310546875
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 1.0834705943388458,
      "offset": [
        -725.7451659544639,
        1041.4651675303185
      ]
    }
  },
  "version": 0.4,
  "1": {
    "inputs": {
      "value": "Prompt-Interception\nErmöglicht Erprobung von Prompt-Interception innerhalb eines Eingabefeldes\n(((Metaprompt in 3-fache Klammer setzen.))) Der Metaprompt transformiert den regulären Prompt vor der Bildgenerierung."
    },
    "class_type": "PrimitiveStringMultiline",
    "_meta": {
      "title": "über"
    }
  },
  "2": {
    "inputs": {
      "value": "Prompt Interception\nEnables testing of prompt interception within an input field\n(((Put metaprompt in triple brackets.))) The metaprompt transforms the regular prompt before image generation."
    },
    "class_type": "PrimitiveStringMultiline",
    "_meta": {
      "title": "info"
    }
  }
}