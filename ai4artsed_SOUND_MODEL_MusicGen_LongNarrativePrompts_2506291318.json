{"id":"88b251ee-8a28-41a1-9a5f-e8e25b09455c","revision":0,"last_node_id":121,"last_link_id":148,"nodes":[{"id":11,"type":"ai4artsed_openrouter_key","pos":[-1479.5887451171875,113.46794891357422],"size":[441,26],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[51]}],"properties":{"Node name for S&R":"ai4artsed_openrouter_key","aux_id":"joeriben/ai4artsed_comfyui","ver":"e511931edb551d65374c44689e76c08794ed31e7"},"widgets_values":[],"color":"#322","bgcolor":"#533"},{"id":34,"type":"ai4artsed_prompt_interception","pos":[-1488.2978515625,-324.0515441894531],"size":[400,376],"flags":{},"order":7,"mode":4,"inputs":[{"localized_name":"input_prompt","name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":null},{"localized_name":"input_context","name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"localized_name":"style_prompt","name":"style_prompt","type":"STRING","widget":{"name":"style_prompt"},"link":null},{"localized_name":"api_key","name":"api_key","type":"STRING","widget":{"name":"api_key"},"link":51},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"debug","name":"debug","type":"COMBO","widget":{"name":"debug"},"link":null},{"localized_name":"unload_model","name":"unload_model","type":"COMBO","widget":{"name":"unload_model"},"link":null}],"outputs":[{"localized_name":"output_str","name":"output_str","type":"STRING","links":[53]},{"localized_name":"output_float","name":"output_float","type":"FLOAT","links":null},{"localized_name":"output_int","name":"output_int","type":"INT","links":null},{"localized_name":"output_binary","name":"output_binary","type":"BOOLEAN","links":null}],"title":"AI4ArtsEd Translation_english","properties":{"Node name for S&R":"ai4artsed_prompt_interception"},"widgets_values":["","professional translator","Translate the prompt into English with maximal semantic preservation. \nMaintain the original structure, and preserve all culturally specific terms or non-translatable phrases in their original form. \nDo not translate proper names, ritual terms, or material names unless they have a common English usage. \nMark such terms with double brackets, e.g. [[egungun]], and preserve their position. \nDo not paraphrase, interpret, or summarize. Do not add any comments or explanations.\nReturn only the translated prompt as plain text.","","local/mistral:7b","enable","yes"],"color":"#322","bgcolor":"#533"},{"id":33,"type":"PreviewAny","pos":[-1077.8951416015625,-324.9759521484375],"size":[419.2315673828125,362.6350402832031],"flags":{},"order":12,"mode":4,"inputs":[{"localized_name":"source","name":"source","type":"*","link":53}],"outputs":[],"title":"input translation","properties":{"Node name for S&R":"PreviewAny","cnr_id":"comfy-core","ver":"0.3.39"},"widgets_values":[]},{"id":26,"type":"PrimitiveString","pos":[-1467.6138916015625,-517.2675170898438],"size":[826.6832275390625,109.9383544921875],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":56}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[75]}],"title":"ai4artsed_text_prompt","properties":{"Node name for S&R":"PrimitiveString","cnr_id":"comfy-core","ver":"0.3.36"},"widgets_values":["Ein Banner mit der Aufschrift ACHTUNG DEFAULT-PROMPT!"],"color":"#322","bgcolor":"#533"},{"id":95,"type":"PreviewAny","pos":[973.2932739257812,-656.2340087890625],"size":[210,88],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":118}],"outputs":[],"title":"Auto-CFG","properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[],"color":"#322","bgcolor":"#533"},{"id":96,"type":"CheckpointLoaderSimple","pos":[305.71337890625,-402.1585388183594],"size":[270,98],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[124]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[123]}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["OfficialStableDiffusion/stableaudio_model.safetensors"],"color":"#322","bgcolor":"#533"},{"id":97,"type":"EmptyLatentAudio","pos":[659.1019287109375,-388.8389587402344],"size":[270,82],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"seconds","name":"seconds","type":"FLOAT","widget":{"name":"seconds"},"link":129},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[127]}],"properties":{"Node name for S&R":"EmptyLatentAudio"},"widgets_values":[47.6,1],"color":"#322","bgcolor":"#533"},{"id":98,"type":"CLIPTextEncode","pos":[291.172607421875,-231.3303680419922],"size":[400,200],"flags":{},"order":15,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":119},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":148}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[120]}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#322","bgcolor":"#533"},{"id":99,"type":"ConditioningStableAudio","pos":[751.9931030273438,-226.3247528076172],"size":[270,102],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":120},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":121},{"localized_name":"seconds_start","name":"seconds_start","type":"FLOAT","widget":{"name":"seconds_start"},"link":null},{"localized_name":"seconds_total","name":"seconds_total","type":"FLOAT","widget":{"name":"seconds_total"},"link":130}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[125]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[126]}],"properties":{"Node name for S&R":"ConditioningStableAudio"},"widgets_values":[0,47],"color":"#322","bgcolor":"#533"},{"id":100,"type":"VAEDecodeAudio","pos":[777.234130859375,-54.66365051269531],"size":[255.2708740234375,61.76346969604492],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":122},{"localized_name":"vae","name":"vae","type":"VAE","link":123}],"outputs":[{"localized_name":"AUDIO","name":"AUDIO","type":"AUDIO","links":[117]}],"properties":{"Node name for S&R":"VAEDecodeAudio"},"color":"#322","bgcolor":"#533"},{"id":102,"type":"CLIPLoader","pos":[346.9123229980469,284.2666015625],"size":[270,106],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[116,119]}],"properties":{"Node name for S&R":"CLIPLoader"},"widgets_values":["CLIP_stableaudio_model.safetensors","stable_audio","default"],"color":"#322","bgcolor":"#533"},{"id":45,"type":"PreviewAny","pos":[-487.52435302734375,-58.585792541503906],"size":[475.4119873046875,232.17066955566406],"flags":{},"order":14,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":73}],"outputs":[],"title":"final sound/music Prompt","properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":52,"type":"ai4artsed_openrouter_key","pos":[-414.3174743652344,221.6571807861328],"size":[284.2684326171875,26],"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[76]}],"properties":{"Node name for S&R":"ai4artsed_openrouter_key"},"widgets_values":[],"color":"#332922","bgcolor":"#593930"},{"id":93,"type":"CLIPTextEncode","pos":[290.56298828125,28.507112503051758],"size":[400,200],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":116},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[121]}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["worst quality, bad audio,bad quality, high harmonic distortion"],"color":"#322","bgcolor":"#533"},{"id":107,"type":"PrimitiveFloat","pos":[1097.4150390625,-395.9377746582031],"size":[270,58],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[129,130]}],"title":"duration (seconds)","properties":{"Node name for S&R":"PrimitiveFloat"},"widgets_values":[47.6],"color":"#232","bgcolor":"#353"},{"id":37,"type":"PrimitiveStringMultiline","pos":[-1477.517333984375,-771.42138671875],"size":[806.9450073242188,211.6782989501953],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[56]}],"title":"Just a more convenient input for your prompt","properties":{"Node name for S&R":"PrimitiveStringMultiline"},"widgets_values":["A beautiful Yamaha CS80 synthesizer being played by a Jazz Musician, We listen to the most outstandingly beautiful Pulse Width Modulations and Low pass filter sweeps.."],"color":"#232","bgcolor":"#353"},{"id":44,"type":"ai4artsed_prompt_interception","pos":[-505.82659912109375,-869.4578247070312],"size":[559.719970703125,759.2860717773438],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"input_prompt","name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":75},{"localized_name":"input_context","name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"localized_name":"style_prompt","name":"style_prompt","type":"STRING","widget":{"name":"style_prompt"},"link":null},{"localized_name":"api_key","name":"api_key","type":"STRING","widget":{"name":"api_key"},"link":76},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"debug","name":"debug","type":"COMBO","widget":{"name":"debug"},"link":null},{"localized_name":"unload_model","name":"unload_model","type":"COMBO","widget":{"name":"unload_model"},"link":null}],"outputs":[{"localized_name":"output_str","name":"output_str","type":"STRING","links":[73,148]},{"localized_name":"output_float","name":"output_float","type":"FLOAT","links":null},{"localized_name":"output_int","name":"output_int","type":"INT","links":null},{"localized_name":"output_binary","name":"output_binary","type":"BOOLEAN","links":null}],"properties":{"Node name for S&R":"ai4artsed_prompt_interception"},"widgets_values":["","synaesthetic expert","transform the input image desription into a description for sound and/or music. How would it sound like? Would msic or rather a soundscape fit ths description? If the description were an image, which sound/music wuld accompany it? Your output will be a pure sound/musical description for Music Gen.\n\nDO NOT TELL STORIES. NEVER TELL STORIES. DESCRIBE CONCRETE AUDITIVE PROPERTIES IN DETAIL.\n\nInfer from context, e.g. pick up on references to nature, to work, to interaction and find according sound/scapes) or music (pieces, genres). Pick up on emotional subtext of the prompt (i.e. conduct an emotional analysis). Pick up on spatial context (e.g. causing echos or reverb).\n\nIf the imput is concrete and bears soud-related element (such as bells), you WILL USE THOSE. \n\nRULE: If the input is concrete and direct, your sonic translation will stay true and WILL NOT be an abstraction. If the input is rather abstract, so will your sonic translation be.\n\nKeep it short, not more that 50 words! Do not descripbe what the AI should achieve,. Instead descripbe the sound, music (Genre), structures, and temporal flow in detail.\n\nGet more from your audio creations by adding structure to your prompts.\n\nThere are a few ways you can structure your prompts using Core style and genre, key musical elements, mood and emotion, specific details, BPM, and additional instructions. The order matters.\n\nFirst, you need to think about what you want to create. For example, to create a single drum stem, start your prompt with \"Format: Solo\" and \"Instruments: drum\".\n\nGood: E.g. \"A Deep House anthem (genre) with lush synthesizers (elements), featuring a euphoric mood (emotion) at 125 BPM (technical)\"\n\nLess Effective: e.g. \"Make something with synths that's happy and danceable with some drums and bass at 125\"\n\nFeel free to regard these categories, as many as you see fit. It contains many examples, too, which you may adapt appropriately.\n\n1. SOUND TYPE (Primary Audio Type)\n\nMusic\nSoundscape (Ambiance of an environment)\nSound Effect (Isolated sound)\nFoley (Sounds synchronized to an action)\nSpeech / Spoken Word\nField Recording / Ethnographical Recording\n\n2. FORMAT / ENSEMBLE\n\nSolo\nDuet\nTrio\nQuartet / Quintet\nSmall Ensemble / Chamber Group\nBand\nOrchestra\nChoir / Chorus\nAcapella\n\n3. GENRE & STYLE (Hierarchically Organized)\n\nElectronic\n\nAmbient, Chillout, Downtempo\nHouse (Deep, Progressive, Tech)\nTechno (Minimal, Industrial, Acid)\nTrance (Progressive, Psytrance, Uplifting)\nDrum and Bass, Jungle\nDubstep, Grime\nIDM (Intelligent Dance Music), Glitch\nSynthwave, Retrowave\nChiptune / 8-bit\nRock / Alternative\n\nClassic Rock, Hard Rock\nPsychedelic Rock\nProgressive Rock\nPunk, Post-Punk\nMetal (Heavy, Death, Black, Power)\nIndie Rock, Alternative Rock\nShoegaze, Dream Pop\nGrunge\nPop / Funk / R&B\n\nPop\nFunk, Soul\nDisco\nR&B (Contemporary, Classic)\nHip-Hop / Rap (Old School, Trap, Boom Bap, Lo-fi Hip-Hop)\nJazz / Blues\n\nBlues (Delta, Chicago)\nRagtime\nSwing, Big Band\nBebop, Hard Bop\nCool Jazz\nFree Jazz, Avant-Garde Jazz\nJazz Fusion\nGlobal & Folk (Non-Western-centric)\n\nAfrican: Highlife, Afrobeat, Jùjú, Gnawa, Soukous\nLatin American: Salsa, Cumbia, Bossa Nova, Samba, Tango, Reggaeton\nMiddle Eastern / North African: Maqam, Rai, Arabic Pop, Dabke\nIndian Classical: Hindustani, Carnatic\nEast Asian: Gagaku (Japan), Guoyue (China), Pansori (Korea), Gamelan (Indonesia)\nEuropean Folk: Celtic, Flamenco, Klezmer, Balkan Brass\nReggae / Dub / Dancehall\nClassical / Cinematic\n\nBaroque\nClassical Era\nRomantic Era\nModern / 20th Century\nMinimalism\nCinematic / Film Score / Orchestral Soundtrack\n\n4. INSTRUMENTS (Grouped)\n\nKeyboards: Piano, Grand Piano, Electric Piano, Organ (Hammond, Pipe), Harpsichord, Synthesizer (Analog, Digital, Modular), Mellotron\nDrums / Percussion: Drum Kit, Drum Machine (808, 909), Congas, Bongos, Djembe, Tabla, Gamelan, Timpani, Marimba, Vibraphone, Cymbals, Snare, Kick Drum\nStrings (Plucked/Struck): Acoustic Guitar, Electric Guitar (Clean, Distorted), Bass Guitar (Fretted, Fretless), Sitar, Oud, Koto, Banjo, Mandolin, Ukulele, Harp\nStrings (Bowed): Violin, Viola, Cello, Double Bass, String Section\nWind (Brass): Trumpet, Trombone, Tuba, French Horn, Saxophone\nWind (Woodwind): Flute, Clarinet, Oboe, Bassoon, Duduk, Shakuhachi\nVocals: Male Vocal, Female Vocal, Choir, Chant, Spoken Word, Vocal Samples, Operatic, Throat Singing\n\n5. MOOD / ATMOSPHERE\n\nHappy, Uplifting, Joyful\nSad, Melancholic, Somber\nTense, Anxious, Suspenseful\nScary, Eerie, Unsettling\nCalm, Serene, Peaceful, Meditative\nEnergetic, Driving, Intense\nEpic, Grand, Majestic\nRomantic, Sensual\nMysterious, Magical, Ethereal\nNostalgic, Wistful\n\n6. PRODUCTION & STYLE\n\nEra: 1950s, 1960s, 1970s, 1980s, 1990s, 2000s, 2010s, Futuristic\nFidelity: Lo-fi, Hi-fi, Raw, Polished, Demo Quality\nTexture: Distorted, Saturated (Tape Saturation), Glitchy, Noisy, Clean\nSpatial: Dry (No Reverb), Reverb, Echo, Wide Stereo Image, Monophonic\nContext: Video Game Music, Film Instrumental, Commercial Jingle, Meditation Track, Podcast Intro\n\n7. TEMPO & RHYTHM\n\nQualitative: Very Slow (Largo), Slow (Adagio), Walking Pace (Andante), Medium (Moderato), Fast (Allegro), Very Fast (Presto), Accelerating, Decelerating\nQuantitative (BPM): [Numerical Value], e.g., 60 BPM (Dub/Largo), 90 BPM (Hip-Hop), 120 BPM (House/Techno), 140 BPM (Dubstep), 175 BPM (Drum and Bass)\nRhythm: Driving 4/4 beat, Syncopated, Complex Polyrhythm, No rhythm / Arrhythmic, Swing rhythm\n\n\nNote on Application:\nA good prompt is compositional, combining elements from multiple categories. Your UI should encourage the user to describe a detailed scene, not just a single genre.\n\n","","local/gemma3:4b [local / $0.00]","disable","no"],"color":"#223","bgcolor":"#335"},{"id":103,"type":"ai4artsed_prompt_interception","pos":[275.68206787109375,-1001.7240600585938],"size":[674.68505859375,533.2108764648438],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"input_prompt","name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":null},{"localized_name":"input_context","name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"localized_name":"style_prompt","name":"style_prompt","type":"STRING","widget":{"name":"style_prompt"},"link":null},{"localized_name":"api_key","name":"api_key","type":"STRING","widget":{"name":"api_key"},"link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"debug","name":"debug","type":"COMBO","widget":{"name":"debug"},"link":null},{"localized_name":"unload_model","name":"unload_model","type":"COMBO","widget":{"name":"unload_model"},"link":null},{"localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null}],"outputs":[{"localized_name":"output_str","name":"output_str","type":"STRING","links":[]},{"localized_name":"output_float","name":"output_float","type":"FLOAT","links":[118,128]},{"localized_name":"output_int","name":"output_int","type":"INT","links":null},{"localized_name":"output_binary","name":"output_binary","type":"BOOLEAN","links":null}],"properties":{"Node name for S&R":"ai4artsed_prompt_interception"},"widgets_values":["7","musical expert, number extraction","You task is to assess and ouput a cfg-Value for music generation as a float-number.\n\nTo this end, you analyze the input and assess which cfg-value fits the style of sound/soundscape/music best.\n\nRules for musical cfg-Values:\n     Low value (e.g. 3-5): The model has more freedom. The result can sound more creative and sometimes more natural, but it deviates more from the prompt. This often leads to less defined, \"softer\" sounds.\n     Medium value (e.g. 6-8): This is the sweet spot for most applications. A good balance between following the prompt and avoiding artifacts.\n     High value (e.g. 9-12+): The model follows the prompt very strictly. This can be useful to force specific sounds, but quickly leads to audible artifacts: Phasing, metallic overtones or an \"over-processed\" feel.","","local/gemma3:4b [local / $0.00]","enable","yes"],"color":"#322","bgcolor":"#533"},{"id":94,"type":"SaveAudioMP3","pos":[1101.626708984375,-213.3035430908203],"size":[270,136],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":117},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveAudioMP3"},"widgets_values":["audio/ComfyUI","320k"],"color":"#322","bgcolor":"#533"},{"id":101,"type":"KSampler","pos":[761.0331420898438,82.3220443725586],"size":[270,262],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":124},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":125},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":126},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":127},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":128},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[122]}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[87444066320123,"randomize",150,6,"euler","simple",0.9000000000000001],"color":"#322","bgcolor":"#533"}],"links":[[51,11,0,34,3,"STRING"],[53,34,0,33,0,"*"],[56,37,0,26,0,"STRING"],[73,44,0,45,0,"*"],[75,26,0,44,0,"STRING"],[76,52,0,44,3,"STRING"],[116,102,0,93,0,"CLIP"],[117,100,0,94,0,"AUDIO"],[118,103,1,95,0,"*"],[119,102,0,98,0,"CLIP"],[120,98,0,99,0,"CONDITIONING"],[121,93,0,99,1,"CONDITIONING"],[122,101,0,100,0,"LATENT"],[123,96,2,100,1,"VAE"],[124,96,0,101,0,"MODEL"],[125,99,0,101,1,"CONDITIONING"],[126,99,1,101,2,"CONDITIONING"],[127,97,0,101,3,"LATENT"],[128,103,1,101,6,"FLOAT"],[129,107,0,97,0,"FLOAT"],[130,107,0,99,3,"FLOAT"],[148,44,0,98,1,"STRING"]],"groups":[{"id":2,"title":"ai4artsed standard prompt input and translation","bounding":[-1498.910400390625,-845.0213623046875,856.890869140625,994.489501953125],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Prompt Interception","bounding":[-550.8548583984375,-961.4110107421875,654.3821411132812,1232.6778564453125],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"Stable Audio Music Generation with Auto-cfg","bounding":[265.68206787109375,-1075.3236083984375,1132.6353759765625,1475.590576171875],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.6830134553650706,"offset":[2378.8248855487104,1047.260125085485]},"groupNodes":{"StableAudio_music_generation":{"nodes":[{"id":-1,"type":"CheckpointLoaderSimple","pos":[3760.56005859375,-19.364238739013672],"size":[270,98],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[]}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["OfficialStableDiffusion/stableaudio_model.safetensors"],"color":"#322","bgcolor":"#533","index":0},{"id":-1,"type":"CLIPLoader","pos":[3801.759033203125,667.0609741210938],"size":[270,106],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[]}],"properties":{"Node name for S&R":"CLIPLoader"},"widgets_values":["CLIP_stableaudio_model.safetensors","stable_audio","default"],"color":"#322","bgcolor":"#533","index":1},{"id":-1,"type":"ai4artsed_prompt_interception","pos":[3730.52880859375,-618.9299926757812],"size":[674.68505859375,533.2108764648438],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"input_prompt","name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":null},{"localized_name":"input_context","name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"localized_name":"style_prompt","name":"style_prompt","type":"STRING","widget":{"name":"style_prompt"},"link":null},{"localized_name":"api_key","name":"api_key","type":"STRING","widget":{"name":"api_key"},"link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"debug","name":"debug","type":"COMBO","widget":{"name":"debug"},"link":null},{"localized_name":"unload_model","name":"unload_model","type":"COMBO","widget":{"name":"unload_model"},"link":null},{"localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null}],"outputs":[{"localized_name":"output_str","name":"output_str","type":"STRING","links":[]},{"localized_name":"output_float","name":"output_float","type":"FLOAT","links":[]},{"localized_name":"output_int","name":"output_int","type":"INT","links":null},{"localized_name":"output_binary","name":"output_binary","type":"BOOLEAN","links":null}],"properties":{"Node name for S&R":"ai4artsed_prompt_interception"},"widgets_values":["7","musical expert, number extraction","You task is to assess and ouput a cfg-Value for music generation as a float-number.\n\nTo thisd end, you analyze the inupt and assess which dfg fits the style of sound/soundscape/music best.\n\nRules for musical cfg-Values:\nLow value (e.g. 3-5): The model has more freedom. The result can sound more creative and sometimes more natural, but it deviates more from the prompt. This often leads to less defined, \"softer\" sounds.\nMedium value (e.g. 6-8): This is the sweet spot for most applications. A good balance between following the prompt and avoiding artifacts. Start with 7.\nHigh value (e.g. 9-12+): The model follows the prompt very strictly. This can be useful to force specific sounds, but quickly leads to audible artifacts: Phasing, metallic overtones or an \"over-processed\" feel.","","local/gemma3:4b","enable","yes"],"color":"#322","bgcolor":"#533","index":2},{"id":-1,"type":"PrimitiveFloat","pos":[4491.06201171875,-77.1247329711914],"size":[270,58],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[]}],"title":"duration (seconds)","properties":{"Node name for S&R":"PrimitiveFloat"},"widgets_values":[47.6],"color":"#232","bgcolor":"#353","index":3},{"id":-1,"type":"CLIPTextEncode","pos":[3745.40966796875,411.3017578125],"size":[400,200],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[]}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["worst quality, bad audio,bad quality"],"color":"#322","bgcolor":"#533","index":4},{"id":-1,"type":"CLIPTextEncode","pos":[3746.019287109375,151.4641876220703],"size":[400,200],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[]}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#322","bgcolor":"#533","index":5},{"id":-1,"type":"PreviewAny","pos":[4428.13916015625,-273.4398193359375],"size":[210,88],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":null}],"outputs":[],"title":"Auto-CFG","properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[],"color":"#322","bgcolor":"#533","index":6},{"id":-1,"type":"EmptyLatentAudio","pos":[4113.9482421875,-6.044672012329102],"size":[270,82],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"seconds","name":"seconds","type":"FLOAT","widget":{"name":"seconds"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[]}],"properties":{"Node name for S&R":"EmptyLatentAudio"},"widgets_values":[47.6,1],"color":"#322","bgcolor":"#533","index":7},{"id":-1,"type":"ConditioningStableAudio","pos":[4206.83935546875,156.4698028564453],"size":[270,102],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":null},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":null},{"localized_name":"seconds_start","name":"seconds_start","type":"FLOAT","widget":{"name":"seconds_start"},"link":null},{"localized_name":"seconds_total","name":"seconds_total","type":"FLOAT","widget":{"name":"seconds_total"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[]}],"properties":{"Node name for S&R":"ConditioningStableAudio"},"widgets_values":[0,47],"color":"#322","bgcolor":"#533","index":8},{"id":-1,"type":"KSampler","pos":[4215.87939453125,465.1166076660156],"size":[270,262],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":null},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":null},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":null},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[]}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[627824327024620,"fixed",150,6,"euler","simple",1],"color":"#322","bgcolor":"#533","index":9},{"id":-1,"type":"VAEDecodeAudio","pos":[4232.08056640625,328.1309509277344],"size":[255.2708740234375,61.76346969604492],"flags":{},"order":29,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":null},{"localized_name":"vae","name":"vae","type":"VAE","link":null}],"outputs":[{"localized_name":"AUDIO","name":"AUDIO","type":"AUDIO","links":[]}],"properties":{"Node name for S&R":"VAEDecodeAudio"},"color":"#322","bgcolor":"#533","index":10}],"links":[[1,0,4,0,116,"CLIP"],[1,0,5,0,116,"CLIP"],[2,1,6,0,117,"FLOAT"],[3,0,7,0,118,"FLOAT"],[5,0,8,0,112,"CONDITIONING"],[4,0,8,1,108,"CONDITIONING"],[3,0,8,3,118,"FLOAT"],[0,0,9,0,110,"MODEL"],[8,0,9,1,113,"CONDITIONING"],[8,1,9,2,113,"CONDITIONING"],[7,0,9,3,111,"LATENT"],[2,1,9,6,117,"FLOAT"],[9,0,10,0,115,"LATENT"],[0,2,10,1,110,"VAE"]],"external":[[10,0,"AUDIO"]]}}},"version":0.4}