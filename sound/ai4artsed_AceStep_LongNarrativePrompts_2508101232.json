{"id":"c1ed9464-adac-45a9-97e0-8e873789be9a","revision":0,"last_node_id":142,"last_link_id":174,"nodes":[{"id":34,"type":"ai4artsed_prompt_interception","pos":[-1488.2978515625,-324.0515441894531],"size":[400,376],"flags":{},"order":12,"mode":4,"inputs":[{"localized_name":"input_prompt","name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":null},{"localized_name":"input_context","name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"localized_name":"style_prompt","name":"style_prompt","type":"STRING","widget":{"name":"style_prompt"},"link":null},{"localized_name":"api_key","name":"api_key","type":"STRING","widget":{"name":"api_key"},"link":51},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"debug","name":"debug","type":"COMBO","widget":{"name":"debug"},"link":null},{"localized_name":"unload_model","name":"unload_model","type":"COMBO","widget":{"name":"unload_model"},"link":null}],"outputs":[{"localized_name":"output_str","name":"output_str","type":"STRING","links":[53]},{"localized_name":"output_float","name":"output_float","type":"FLOAT","links":null},{"localized_name":"output_int","name":"output_int","type":"INT","links":null},{"localized_name":"output_binary","name":"output_binary","type":"BOOLEAN","links":null}],"title":"AI4ArtsEd Translation_english","properties":{"Node name for S&R":"ai4artsed_prompt_interception"},"widgets_values":["","professional translator","Translate the prompt into English with maximal semantic preservation. \nMaintain the original structure, and preserve all culturally specific terms or non-translatable phrases in their original form. \nDo not translate proper names, ritual terms, or material names unless they have a common English usage. \nMark such terms with double brackets, e.g. [[egungun]], and preserve their position. \nDo not paraphrase, interpret, or summarize. Do not add any comments or explanations.\nReturn only the translated prompt as plain text.","","local/mistral:7b","enable","yes"],"color":"#322","bgcolor":"#533"},{"id":33,"type":"PreviewAny","pos":[-1077.8951416015625,-324.9759521484375],"size":[419.2315673828125,362.6350402832031],"flags":{},"order":15,"mode":4,"inputs":[{"localized_name":"source","name":"source","type":"*","link":53}],"outputs":[],"title":"input translation","properties":{"Node name for S&R":"PreviewAny","cnr_id":"comfy-core","ver":"0.3.39"},"widgets_values":[]},{"id":26,"type":"PrimitiveString","pos":[-1467.6138916015625,-517.2675170898438],"size":[826.6832275390625,109.9383544921875],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":56}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[75]}],"title":"ai4artsed_text_prompt","properties":{"Node name for S&R":"PrimitiveString","cnr_id":"comfy-core","ver":"0.3.36"},"widgets_values":["Ein Banner mit der Aufschrift ACHTUNG DEFAULT-PROMPT!"],"color":"#322","bgcolor":"#533"},{"id":45,"type":"PreviewAny","pos":[-487.52435302734375,-58.585792541503906],"size":[475.4119873046875,232.17066955566406],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":73}],"outputs":[],"title":"final sound/music Prompt","properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":52,"type":"ai4artsed_openrouter_key","pos":[-414.3174743652344,221.6571807861328],"size":[284.5666809082031,26],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[76]}],"properties":{"Node name for S&R":"ai4artsed_openrouter_key"},"widgets_values":[],"color":"#332922","bgcolor":"#593930"},{"id":37,"type":"PrimitiveStringMultiline","pos":[-1477.517333984375,-771.42138671875],"size":[806.9450073242188,211.6782989501953],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"STRING","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[56]}],"title":"Just a more convenient input for your prompt","properties":{"Node name for S&R":"PrimitiveStringMultiline"},"widgets_values":["Large bell ringing at the bell tower of a medieval metropolis (Notre Dame de Paris)"],"color":"#232","bgcolor":"#353"},{"id":123,"type":"Note","pos":[-1034.822998046875,449.3955993652344],"size":[1070.147216796875,1163.288330078125],"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[],"title":"former interception instruction","properties":{},"widgets_values":["transform the input image desription into a description for sound and/or music. How would it sound like? Would music or rather a soundscape fit the description? If the description were an image, which sound/music would accompany it? Your output will be a pure sound/musical description for Stable Audio 1.0.\n\nDO NOT TELL STORIES. NEVER TELL STORIES. DESCRIBE CONCRETE AUDITIVE PROPERTIES IN DETAIL.\n\nInfer from context, e.g. pick up on references to nature, to work, to interaction and find according sound/scapes) or music (pieces, genres). Pick up on emotional subtext of the prompt (i.e. conduct an emotional analysis). Pick up on spatial context (e.g. causing echos or reverb).\n\nIf the imput is concrete and bears soud-related element (such as bells), you WILL USE THOSE (in this case, the output will concist of bells and some environmental noises according to the input).\n\nRULE: If the input is concrete and direct, your sonic translation will stay true and WILL NOT be an abstraction. If the input is rather abstract, so will your sonic translation be.\n\nKeep it short, not more that 50 words! Do not descripbe what the AI should achieve,. Instead descripbe the sound, music (Genre), structures, and temporal flow in detail.\n\nStructure your ouput so that the musical/sonic creation can be structured accordingly!\n\nFeel free to regard these categories, as many as you see fit. It contains many examples.\n\n1. SOUND TYPE (Primary Audio Type)\n\nMusic\nSoundscape (Ambiance of an environment)\nSound Effect (Isolated sound)\nFoley (Sounds synchronized to an action)\nSpeech / Spoken Word\nField Recording / Ethnographical Recording\n\n2. FORMAT / ENSEMBLE\n\nSolo\nDuet\nTrio\nQuartet / Quintet\nSmall Ensemble / Chamber Group\nBand\nOrchestra\nChoir / Chorus\nAcapella\n\n3. GENRE & STYLE (Hierarchically Organized)\n\nElectronic\n\nAmbient, Chillout, Downtempo\nHouse (Deep, Progressive, Tech)\nTechno (Minimal, Industrial, Acid)\nTrance (Progressive, Psytrance, Uplifting)\nDrum and Bass, Jungle\nDubstep, Grime\nIDM (Intelligent Dance Music), Glitch\nSynthwave, Retrowave\nChiptune / 8-bit\nRock / Alternative\n\nClassic Rock, Hard Rock\nPsychedelic Rock\nProgressive Rock\nPunk, Post-Punk\nMetal (Heavy, Death, Black, Power)\nIndie Rock, Alternative Rock\nShoegaze, Dream Pop\nGrunge\nPop / Funk / R&B\n\nPop\nFunk, Soul\nDisco\nR&B (Contemporary, Classic)\nHip-Hop / Rap (Old School, Trap, Boom Bap, Lo-fi Hip-Hop)\nJazz / Blues\n\nBlues (Delta, Chicago)\nRagtime\nSwing, Big Band\nBebop, Hard Bop\nCool Jazz\nFree Jazz, Avant-Garde Jazz\nJazz Fusion\nGlobal & Folk (Non-Western-centric)\n\nAfrican: Highlife, Afrobeat, Jùjú, Gnawa, Soukous\nLatin American: Salsa, Cumbia, Bossa Nova, Samba, Tango, Reggaeton\nMiddle Eastern / North African: Maqam, Rai, Arabic Pop, Dabke\nIndian Classical: Hindustani, Carnatic\nEast Asian: Gagaku (Japan), Guoyue (China), Pansori (Korea), Gamelan (Indonesia)\nEuropean Folk: Celtic, Flamenco, Klezmer, Balkan Brass\nReggae / Dub / Dancehall\nClassical / Cinematic\n\nBaroque\nClassical Era\nRomantic Era\nModern / 20th Century\nMinimalism\nCinematic / Film Score / Orchestral Soundtrack\n\n4. INSTRUMENTS (Grouped)\n\nKeyboards: Piano, Grand Piano, Electric Piano, Organ (Hammond, Pipe), Harpsichord, Synthesizer (Analog, Digital, Modular), Mellotron\nDrums / Percussion: Drum Kit, Drum Machine (808, 909), Congas, Bongos, Djembe, Tabla, Gamelan, Timpani, Marimba, Vibraphone, Cymbals, Snare, Kick Drum\nStrings (Plucked/Struck): Acoustic Guitar, Electric Guitar (Clean, Distorted), Bass Guitar (Fretted, Fretless), Sitar, Oud, Koto, Banjo, Mandolin, Ukulele, Harp\nStrings (Bowed): Violin, Viola, Cello, Double Bass, String Section\nWind (Brass): Trumpet, Trombone, Tuba, French Horn, Saxophone\nWind (Woodwind): Flute, Clarinet, Oboe, Bassoon, Duduk, Shakuhachi\nVocals: Male Vocal, Female Vocal, Choir, Chant, Spoken Word, Vocal Samples, Operatic, Throat Singing\n\n5. MOOD / ATMOSPHERE\n\nHappy, Uplifting, Joyful\nSad, Melancholic, Somber\nTense, Anxious, Suspenseful\nScary, Eerie, Unsettling\nCalm, Serene, Peaceful, Meditative\nEnergetic, Driving, Intense\nEpic, Grand, Majestic\nRomantic, Sensual\nMysterious, Magical, Ethereal\nNostalgic, Wistful\n\n6. PRODUCTION & STYLE\n\nEra: 1950s, 1960s, 1970s, 1980s, 1990s, 2000s, 2010s, Futuristic\nFidelity: Lo-fi, Hi-fi, Raw, Polished, Demo Quality\nTexture: Distorted, Saturated (Tape Saturation), Glitchy, Noisy, Clean\nSpatial: Dry (No Reverb), Reverb, Echo, Wide Stereo Image, Monophonic\nContext: Video Game Music, Film Instrumental, Commercial Jingle, Meditation Track, Podcast Intro\n\n7. TEMPO & RHYTHM\n\nQualitative: Very Slow (Largo), Slow (Adagio), Walking Pace (Andante), Medium (Moderato), Fast (Allegro), Very Fast (Presto), Accelerating, Decelerating\nQuantitative (BPM): [Numerical Value], e.g., 60 BPM (Dub/Largo), 90 BPM (Hip-Hop), 120 BPM (House/Techno), 140 BPM (Dubstep), 175 BPM (Drum and Bass)\nRhythm: Driving 4/4 beat, Syncopated, Complex Polyrhythm, No rhythm / Arrhythmic, Swing rhythm\n\n\nNote on Application:\nA good prompt is compositional, combining elements from multiple categories. Your UI should encourage the user to describe a detailed scene, not just a single genre.\n\n"],"color":"#432","bgcolor":"#653"},{"id":124,"type":"LatentApplyOperationCFG","pos":[1991.9227294921875,-722.4579467773438],"size":[290,50],"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":151},{"localized_name":"operation","name":"operation","type":"LATENT_OPERATION","link":152}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[161]}],"properties":{"Node name for S&R":"LatentApplyOperationCFG","cnr_id":"comfy-core","ver":"0.3.34"}},{"id":125,"type":"LoadAudio","pos":[1231.9210205078125,-222.45875549316406],"size":[370,140],"flags":{},"order":3,"mode":4,"inputs":[{"localized_name":"audio","name":"audio","type":"COMBO","widget":{"name":"audio"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"AUDIOUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"AUDIO","name":"AUDIO","type":"AUDIO","links":[153]}],"properties":{"Node name for S&R":"LoadAudio","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":["ace_step_example.flac",null,null],"color":"#322","bgcolor":"#533"},{"id":126,"type":"VAEEncodeAudio","pos":[1231.9210205078125,-382.4587707519531],"size":[370,46],"flags":{},"order":11,"mode":4,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":153},{"localized_name":"vae","name":"vae","type":"VAE","link":154}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":null}],"properties":{"Node name for S&R":"VAEEncodeAudio","cnr_id":"comfy-core","ver":"0.3.34"}},{"id":127,"type":"VAEDecodeAudio","pos":[2131.922607421875,-292.4588623046875],"size":[151.35833740234375,46],"flags":{"collapsed":false},"order":24,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":155},{"localized_name":"vae","name":"vae","type":"VAE","link":156}],"outputs":[{"localized_name":"AUDIO","name":"AUDIO","type":"AUDIO","links":[157,160,169]}],"properties":{"Node name for S&R":"VAEDecodeAudio","cnr_id":"comfy-core","ver":"0.3.32"}},{"id":128,"type":"SaveAudioOpus","pos":[2311.921875,-342.4588317871094],"size":[610,136],"flags":{},"order":25,"mode":4,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":157},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveAudioOpus","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":["audio/ComfyUI","128k"]},{"id":129,"type":"ConditioningZeroOut","pos":[1651.9205322265625,-492.458251953125],"size":[198.4166717529297,26],"flags":{"collapsed":true},"order":22,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":158}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[163]}],"properties":{"Node name for S&R":"ConditioningZeroOut","cnr_id":"comfy-core","ver":"0.3.32"}},{"id":130,"type":"ModelSamplingSD3","pos":[1641.9205322265625,-602.4579467773438],"size":[330,60],"flags":{"collapsed":false},"order":10,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":159},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[151]}],"properties":{"Node name for S&R":"ModelSamplingSD3","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[5.000000000000001]},{"id":131,"type":"LatentOperationTonemapReinhard","pos":[1641.9205322265625,-722.4579467773438],"size":[330,58],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"multiplier","name":"multiplier","type":"FLOAT","widget":{"name":"multiplier"},"link":null}],"outputs":[{"localized_name":"LATENT_OPERATION","name":"LATENT_OPERATION","type":"LATENT_OPERATION","links":[152]}],"properties":{"Node name for S&R":"LatentOperationTonemapReinhard","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[1.0000000000000002]},{"id":132,"type":"CheckpointLoaderSimple","pos":[1231.9210205078125,-722.4579467773438],"size":[370,98],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[159]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[165]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[154,156]}],"properties":{"Node name for S&R":"CheckpointLoaderSimple","cnr_id":"comfy-core","ver":"0.3.32","models":[{"name":"ace_step_v1_3.5b.safetensors","url":"https://huggingface.co/Comfy-Org/ACE-Step_ComfyUI_repackaged/resolve/main/all_in_one/ace_step_v1_3.5b.safetensors?download=true","directory":"checkpoints"}]},"widgets_values":["ace_step_v1_3.5b.safetensors"],"color":"#322","bgcolor":"#533"},{"id":133,"type":"EmptyAceStepLatentAudio","pos":[1231.9210205078125,-512.4581298828125],"size":[370,82],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"seconds","name":"seconds","type":"FLOAT","widget":{"name":"seconds"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[164]}],"properties":{"Node name for S&R":"EmptyAceStepLatentAudio","cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":[90,1]},{"id":134,"type":"SaveAudio","pos":[2311.921875,-522.4581909179688],"size":[610,112],"flags":{},"order":26,"mode":4,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":160},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveAudio","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":["audio/ComfyUI/AceStep_"]},{"id":135,"type":"KSampler","pos":[1991.9227294921875,-602.4579467773438],"size":[290,262],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":161},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":162},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":163},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":164},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[155]}],"properties":{"Node name for S&R":"KSampler","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":[170478668234129,"randomize",300,5,"euler","simple",0.8700000000000002]},{"id":136,"type":"TextEncodeAceStepAudio","pos":[1655.5206298828125,-411.0587158203125],"size":[330,420],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":165},{"localized_name":"tags","name":"tags","type":"STRING","widget":{"name":"tags"},"link":166},{"localized_name":"lyrics","name":"lyrics","type":"STRING","widget":{"name":"lyrics"},"link":167},{"localized_name":"lyrics_strength","name":"lyrics_strength","type":"FLOAT","widget":{"name":"lyrics_strength"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[158,162]}],"properties":{"Node name for S&R":"TextEncodeAceStepAudio","cnr_id":"comfy-core","ver":"0.3.32"},"widgets_values":["a slow largho lento fusion jazz piece, EUrope 1972, Lead:Fender Rhodes, Moog, Baritonsax, Drums, Upright Bass with Moogfooger","",0.9900000000000002]},{"id":137,"type":"PreviewAny","pos":[809.1950073242188,-356.3624572753906],"size":[333.7937316894531,334.7463684082031],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":168}],"outputs":[],"properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":138,"type":"ai4artsed_prompt_interception","pos":[356.3307800292969,-775.1521606445312],"size":[400,352],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"input_prompt","name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":174},{"localized_name":"input_context","name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"localized_name":"style_prompt","name":"style_prompt","type":"STRING","widget":{"name":"style_prompt"},"link":null},{"localized_name":"api_key","name":"api_key","type":"STRING","widget":{"name":"api_key"},"link":173},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"debug","name":"debug","type":"COMBO","widget":{"name":"debug"},"link":null},{"localized_name":"unload_model","name":"unload_model","type":"COMBO","widget":{"name":"unload_model"},"link":null}],"outputs":[{"localized_name":"output_str","name":"output_str","type":"STRING","links":[166,170,171]},{"localized_name":"output_float","name":"output_float","type":"FLOAT","links":null},{"localized_name":"output_int","name":"output_int","type":"INT","links":null},{"localized_name":"output_binary","name":"output_binary","type":"BOOLEAN","links":null}],"properties":{"Node name for S&R":"ai4artsed_prompt_interception"},"widgets_values":["","Write a prompt for a music generating AI. No remarks or comments, just the description for the Audio/Music AI.","Your task is to analyze the input. If it where a song, which kind of song would it be? Wich epoch, which style? Or would it rather be a soundscape? Describe the song or soundsscape meticulously!","","local/mistral-nemo:latest [local / $0.00]","disable","no"],"color":"#232","bgcolor":"#353"},{"id":139,"type":"SaveAudioMP3","pos":[2311.921875,-722.4579467773438],"size":[610,136],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"audio","name":"audio","type":"AUDIO","link":169},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"quality","name":"quality","type":"COMBO","widget":{"name":"quality"},"link":null},{"localized_name":"audioUI","name":"audioUI","type":"AUDIO_UI","widget":{"name":"audioUI"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveAudioMP3","cnr_id":"comfy-core","ver":"0.3.34"},"widgets_values":["audio/ComfyUI","320k"]},{"id":140,"type":"ai4artsed_prompt_interception","pos":[353.46136474609375,-354.71649169921875],"size":[400,352],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"input_prompt","name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":170},{"localized_name":"input_context","name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"localized_name":"style_prompt","name":"style_prompt","type":"STRING","widget":{"name":"style_prompt"},"link":null},{"localized_name":"api_key","name":"api_key","type":"STRING","widget":{"name":"api_key"},"link":172},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"debug","name":"debug","type":"COMBO","widget":{"name":"debug"},"link":null},{"localized_name":"unload_model","name":"unload_model","type":"COMBO","widget":{"name":"unload_model"},"link":null}],"outputs":[{"localized_name":"output_str","name":"output_str","type":"STRING","links":[167,168]},{"localized_name":"output_float","name":"output_float","type":"FLOAT","links":null},{"localized_name":"output_int","name":"output_int","type":"INT","links":null},{"localized_name":"output_binary","name":"output_binary","type":"BOOLEAN","links":null}],"properties":{"Node name for S&R":"ai4artsed_prompt_interception"},"widgets_values":["","Lyricist, Song writer, word smith","Your task is to analyze the input. If it is a song, which lyrics would it have? Write the lyrics for this song. Output ONLY the lyrics! Any comments would be sung, too! Keep the lines short, and regard the poetic rhythm (metrical feed).\n\nIf is it a souncscape, sharply reflect if it needs words, or not. If not, just output \".\"","","local/mistral-nemo:latest [local / $0.00]","disable","yes"],"color":"#232","bgcolor":"#353"},{"id":141,"type":"PreviewAny","pos":[814.5194702148438,-772.6986694335938],"size":[321.0159912109375,329.42242431640625],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":171}],"outputs":[],"title":"Song/soundscape description","properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[]},{"id":142,"type":"Note","pos":[2311.921875,-152.45872497558594],"size":[610,90],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["These nodes can save audio in different formats. Currently, all the modes are Bypass. You can enable them as per your needs.\n\n这些节点可以将 audio  保存成不同格式，目前的模式都是 Bypass ，你可以按你的需要来启用"],"color":"#432","bgcolor":"#653"},{"id":11,"type":"ai4artsed_openrouter_key","pos":[-1479.5887451171875,113.46794891357422],"size":[441,26],"flags":{},"order":8,"mode":0,"inputs":[],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","links":[51,172,173]}],"properties":{"Node name for S&R":"ai4artsed_openrouter_key","aux_id":"joeriben/ai4artsed_comfyui","ver":"e511931edb551d65374c44689e76c08794ed31e7"},"widgets_values":[],"color":"#322","bgcolor":"#533"},{"id":44,"type":"ai4artsed_prompt_interception","pos":[-505.82659912109375,-869.4578247070312],"size":[559.719970703125,759.2860717773438],"flags":{},"order":13,"mode":0,"inputs":[{"localized_name":"input_prompt","name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":75},{"localized_name":"input_context","name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"localized_name":"style_prompt","name":"style_prompt","type":"STRING","widget":{"name":"style_prompt"},"link":null},{"localized_name":"api_key","name":"api_key","type":"STRING","widget":{"name":"api_key"},"link":76},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"debug","name":"debug","type":"COMBO","widget":{"name":"debug"},"link":null},{"localized_name":"unload_model","name":"unload_model","type":"COMBO","widget":{"name":"unload_model"},"link":null}],"outputs":[{"localized_name":"output_str","name":"output_str","type":"STRING","links":[73,174]},{"localized_name":"output_float","name":"output_float","type":"FLOAT","links":null},{"localized_name":"output_int","name":"output_int","type":"INT","links":null},{"localized_name":"output_binary","name":"output_binary","type":"BOOLEAN","links":null}],"properties":{"Node name for S&R":"ai4artsed_prompt_interception"},"widgets_values":["","synaesthetic expert","Take the input. Analyze it structurally (relations, objects, dynamicy, rhythms). Analyze it with regard to atmosphere adn emotionality.\n\nAsk yourself the question: \"Are there any sounding things in the input?\"\n\nIf there are sounding things, be it entities or environmental sounds, make them the central part of your output.\n\nYour output will be a sonic scene, a structural, truthful translation of the input into a sonic output (for StableAudio).","","openrouter/google/gemma-3-27b-it [translator / $0.10/$0.18]","disable","no"],"color":"#223","bgcolor":"#335"}],"links":[[51,11,0,34,3,"STRING"],[53,34,0,33,0,"*"],[56,37,0,26,0,"STRING"],[73,44,0,45,0,"*"],[75,26,0,44,0,"STRING"],[76,52,0,44,3,"STRING"],[151,130,0,124,0,"MODEL"],[152,131,0,124,1,"LATENT_OPERATION"],[153,125,0,126,0,"AUDIO"],[154,132,2,126,1,"VAE"],[155,135,0,127,0,"LATENT"],[156,132,2,127,1,"VAE"],[157,127,0,128,0,"AUDIO"],[158,136,0,129,0,"CONDITIONING"],[159,132,0,130,0,"MODEL"],[160,127,0,134,0,"AUDIO"],[161,124,0,135,0,"MODEL"],[162,136,0,135,1,"CONDITIONING"],[163,129,0,135,2,"CONDITIONING"],[164,133,0,135,3,"LATENT"],[165,132,1,136,0,"CLIP"],[166,138,0,136,1,"STRING"],[167,140,0,136,2,"STRING"],[168,140,0,137,0,"*"],[169,127,0,139,0,"AUDIO"],[170,138,0,140,0,"STRING"],[171,138,0,141,0,"*"],[172,11,0,140,3,"STRING"],[173,11,0,138,3,"STRING"],[174,44,0,138,0,"STRING"]],"groups":[{"id":2,"title":"ai4artsed standard prompt input and translation","bounding":[-1498.910400390625,-845.0213623046875,856.890869140625,994.489501953125],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Prompt Interception","bounding":[-550.8548583984375,-961.4110107421875,654.3821411132812,1232.6778564453125],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"AceStep v.1 music generation","bounding":[307.287109375,-884.3090209960938,2670.82373046875,909.35205078125],"color":"#3f789e","font_size":24,"flags":{}},{"id":10,"title":"Load model here","bounding":[1221.9210205078125,-792.4579467773438,390,180],"color":"#3f789e","font_size":24,"flags":{}},{"id":11,"title":"Latent","bounding":[1221.9210205078125,-592.4580078125,390,280],"color":"#3f789e","font_size":24,"flags":{}},{"id":12,"title":"Adjust the vocal volume","bounding":[1631.9205322265625,-792.4579467773438,350,140],"color":"#3f789e","font_size":24,"flags":{}},{"id":13,"title":"For repainting","bounding":[1221.9210205078125,-292.4588623046875,390,223.60000610351562],"color":"#3f789e","font_size":24,"flags":{}},{"id":14,"title":"Output","bounding":[2301.921630859375,-792.4579467773438,630,760],"color":"#3f789e","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.6209213230591553,"offset":[2202.5314267528283,1306.263080553102]},"groupNodes":{"StableAudio_music_generation":{"nodes":[{"id":-1,"type":"CheckpointLoaderSimple","pos":[3760.56005859375,-19.364238739013672],"size":[270,98],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[]}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["OfficialStableDiffusion/stableaudio_model.safetensors"],"color":"#322","bgcolor":"#533","index":0},{"id":-1,"type":"CLIPLoader","pos":[3801.759033203125,667.0609741210938],"size":[270,106],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[]}],"properties":{"Node name for S&R":"CLIPLoader"},"widgets_values":["CLIP_stableaudio_model.safetensors","stable_audio","default"],"color":"#322","bgcolor":"#533","index":1},{"id":-1,"type":"ai4artsed_prompt_interception","pos":[3730.52880859375,-618.9299926757812],"size":[674.68505859375,533.2108764648438],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"input_prompt","name":"input_prompt","type":"STRING","widget":{"name":"input_prompt"},"link":null},{"localized_name":"input_context","name":"input_context","type":"STRING","widget":{"name":"input_context"},"link":null},{"localized_name":"style_prompt","name":"style_prompt","type":"STRING","widget":{"name":"style_prompt"},"link":null},{"localized_name":"api_key","name":"api_key","type":"STRING","widget":{"name":"api_key"},"link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"debug","name":"debug","type":"COMBO","widget":{"name":"debug"},"link":null},{"localized_name":"unload_model","name":"unload_model","type":"COMBO","widget":{"name":"unload_model"},"link":null},{"localized_name":"output_format","name":"output_format","type":"COMBO","widget":{"name":"output_format"},"link":null}],"outputs":[{"localized_name":"output_str","name":"output_str","type":"STRING","links":[]},{"localized_name":"output_float","name":"output_float","type":"FLOAT","links":[]},{"localized_name":"output_int","name":"output_int","type":"INT","links":null},{"localized_name":"output_binary","name":"output_binary","type":"BOOLEAN","links":null}],"properties":{"Node name for S&R":"ai4artsed_prompt_interception"},"widgets_values":["7","musical expert, number extraction","You task is to assess and ouput a cfg-Value for music generation as a float-number.\n\nTo thisd end, you analyze the inupt and assess which dfg fits the style of sound/soundscape/music best.\n\nRules for musical cfg-Values:\nLow value (e.g. 3-5): The model has more freedom. The result can sound more creative and sometimes more natural, but it deviates more from the prompt. This often leads to less defined, \"softer\" sounds.\nMedium value (e.g. 6-8): This is the sweet spot for most applications. A good balance between following the prompt and avoiding artifacts. Start with 7.\nHigh value (e.g. 9-12+): The model follows the prompt very strictly. This can be useful to force specific sounds, but quickly leads to audible artifacts: Phasing, metallic overtones or an \"over-processed\" feel.","","local/gemma3:4b","enable","yes"],"color":"#322","bgcolor":"#533","index":2},{"id":-1,"type":"PrimitiveFloat","pos":[4491.06201171875,-77.1247329711914],"size":[270,58],"flags":{},"order":10,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":[]}],"title":"duration (seconds)","properties":{"Node name for S&R":"PrimitiveFloat"},"widgets_values":[47.6],"color":"#232","bgcolor":"#353","index":3},{"id":-1,"type":"CLIPTextEncode","pos":[3745.40966796875,411.3017578125],"size":[400,200],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[]}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["worst quality, bad audio,bad quality"],"color":"#322","bgcolor":"#533","index":4},{"id":-1,"type":"CLIPTextEncode","pos":[3746.019287109375,151.4641876220703],"size":[400,200],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":null},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[]}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#322","bgcolor":"#533","index":5},{"id":-1,"type":"PreviewAny","pos":[4428.13916015625,-273.4398193359375],"size":[210,88],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"source","name":"source","type":"*","link":null}],"outputs":[],"title":"Auto-CFG","properties":{"Node name for S&R":"PreviewAny"},"widgets_values":[],"color":"#322","bgcolor":"#533","index":6},{"id":-1,"type":"EmptyLatentAudio","pos":[4113.9482421875,-6.044672012329102],"size":[270,82],"flags":{},"order":20,"mode":0,"inputs":[{"localized_name":"seconds","name":"seconds","type":"FLOAT","widget":{"name":"seconds"},"link":null},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[]}],"properties":{"Node name for S&R":"EmptyLatentAudio"},"widgets_values":[47.6,1],"color":"#322","bgcolor":"#533","index":7},{"id":-1,"type":"ConditioningStableAudio","pos":[4206.83935546875,156.4698028564453],"size":[270,102],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":null},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":null},{"localized_name":"seconds_start","name":"seconds_start","type":"FLOAT","widget":{"name":"seconds_start"},"link":null},{"localized_name":"seconds_total","name":"seconds_total","type":"FLOAT","widget":{"name":"seconds_total"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[]}],"properties":{"Node name for S&R":"ConditioningStableAudio"},"widgets_values":[0,47],"color":"#322","bgcolor":"#533","index":8},{"id":-1,"type":"KSampler","pos":[4215.87939453125,465.1166076660156],"size":[270,262],"flags":{},"order":27,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":null},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":null},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":null},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":null},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[]}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[627824327024620,"fixed",150,6,"euler","simple",1],"color":"#322","bgcolor":"#533","index":9},{"id":-1,"type":"VAEDecodeAudio","pos":[4232.08056640625,328.1309509277344],"size":[255.2708740234375,61.76346969604492],"flags":{},"order":29,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":null},{"localized_name":"vae","name":"vae","type":"VAE","link":null}],"outputs":[{"localized_name":"AUDIO","name":"AUDIO","type":"AUDIO","links":[]}],"properties":{"Node name for S&R":"VAEDecodeAudio"},"color":"#322","bgcolor":"#533","index":10}],"links":[[1,0,4,0,116,"CLIP"],[1,0,5,0,116,"CLIP"],[2,1,6,0,117,"FLOAT"],[3,0,7,0,118,"FLOAT"],[5,0,8,0,112,"CONDITIONING"],[4,0,8,1,108,"CONDITIONING"],[3,0,8,3,118,"FLOAT"],[0,0,9,0,110,"MODEL"],[8,0,9,1,113,"CONDITIONING"],[8,1,9,2,113,"CONDITIONING"],[7,0,9,3,111,"LATENT"],[2,1,9,6,117,"FLOAT"],[9,0,10,0,115,"LATENT"],[0,2,10,1,110,"VAE"]],"external":[[10,0,"AUDIO"]]}}},"version":0.4}