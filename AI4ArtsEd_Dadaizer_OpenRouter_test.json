{
  "id": "51774992-2cc6-467d-b81d-cbed57895b7f",
  "revision": 0,
  "last_node_id": 50,
  "last_link_id": 87,
  "nodes": [
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": [
        1511.0772705078125,
        901.7804565429688
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 7
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 8
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            9
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 7,
      "type": "CLIPTextEncode",
      "pos": [
        1382.3824462890625,
        1219.0897216796875
      ],
      "size": [
        425.27801513671875,
        180.6060791015625
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 81
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            6
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "text, watermark"
      ]
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        1382.6529541015625,
        1001.113525390625
      ],
      "size": [
        422.84503173828125,
        164.31304931640625
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 80
        },
        {
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 83
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            4
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "beautiful scenery nature glass bottle landscape, , purple galaxy bottle,"
      ]
    },
    {
      "id": 39,
      "type": "Note",
      "pos": [
        -998.4478149414062,
        306.2772216796875
      ],
      "size": [
        504.46685791015625,
        88
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note: Activate \"unload\"",
      "properties": {},
      "widgets_values": [
        "When chaining \"AI4ArtsEd Ollama Prompt\" Modules after each other, make sure to \n1) use the same model in each Module, and\n2) check \"enable\" in the field \"unload after\" ONLY in the last module of the chain. (This will free up memory for image generation.)"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 38,
      "type": "Note",
      "pos": [
        146.19203186035156,
        -856.201171875
      ],
      "size": [
        461.9621276855469,
        205.07611083984375
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Note: USE Prompts OR Image Inputs",
      "properties": {},
      "widgets_values": [
        "Use either a text prompt or load an image.\n\nMake sure to connect e\n- ither the \"STRING\" output of the prompt module\nor\n- the \"description\" output of tha \"Ollama Vision\" module\nto the \"input_prompt\" connector of the \"AI4ArtsEd Ollama Prompt: Cultural Translation\" Module.\n\nYou may alter the prompt (meta-) instruction in the \"AI4ARtsEd\" Nodes – however, if you do so, please do not save your workflow, but \"save as\" and choose a different name."
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 28,
      "type": "PrimitiveString",
      "pos": [
        -191.6328125,
        207.57847595214844
      ],
      "size": [
        736.7470703125,
        59.96985626220703
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": []
        }
      ],
      "title": "Provide a context: neutral",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "Node name for S&R": "PrimitiveString"
      },
      "widgets_values": [
        " 1999 characters maximum output length!"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 32,
      "type": "BetterString",
      "pos": [
        -190.0653076171875,
        -186.65362548828125
      ],
      "size": [
        747.7584838867188,
        334.6981506347656
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "chain",
          "shape": 7,
          "type": "STRING",
          "widget": {
            "name": "chain"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            61
          ]
        }
      ],
      "title": "Describe your style here",
      "properties": {
        "cnr_id": "comfyui-better-strings",
        "ver": "1.0.0",
        "Node name for S&R": "BetterString"
      },
      "widgets_values": [
        "Mind and analyze the input. DO NOT FORGET THIS INPUT AND ITS ELEMENTS!\n\nTake the input and transform it into a description of an original, stylistically authentic dada art peace. Be sure to include any elements and entities of the input. Create a chaotic, anti-aesthetic Dada-inspired artwork.  The composition should feature dadaistic styles, such as:\n- aggressive visual fragmentation, \n- absurd juxtapositions, and a deliberately incoherent layout,\n- photomontage elements using clippings from newspapers, \n- mechanical diagrams, and \n- found objects or readymade references such as a urinal, mannequin limbs, gears, or machine fragments. \nOverlay fragments of text in disjointed, multi-directional typographic styles — mixing fonts, sizes, and orientations — without concern for readability. Use collage and assemblage logic: torn paper edges, layering of incongruent images, visible adhesive textures. Emphasize randomness, chance-based layout, and lack of central perspective. The overall aesthetic should be irreverent, subversive, and saturated with irony, parody, and visual noise. Avoid harmony, symmetry, or traditional artistic composition. Evoke the mood of post-WWI disillusionment and cultural critique. Optionally include grotesque, caricatured figures or satirical portraits, referencing the anti-bourgeois spirit of Berlin Dada.\n\nBe absolutely verbose about the image.\n1) Explain the composition. Do not mention a \"title\", since it is not part of the image. Instead describe what a title would have aimed at.\n2) Explain the palette, the mateirals, and the elements.\n3) describe the elements in detail.\n\nAbsolutely do not talk about \"titles\"!! Do not use conjunctive, but indicative language.\n\nCHECK IF YOU STAYED TRUE TO THE ELEMENTS OF THE INPUT!",
        ""
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 44,
      "type": "Note",
      "pos": [
        182.881103515625,
        -1106.37841796875
      ],
      "size": [
        317.6291198730469,
        189.31996154785156
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "IF THINGS DO NOT WORK CORRECTLY:\n\nUPPER RIGHT MENÜ:\n-> Manager -> Restart\n-> Unload Models\n-> Free Model and node cache\n\nTHen:\n-> Reload Webpage in your browser\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 47,
      "type": "ai4artsed_openrouter_key",
      "pos": [
        -734.5318603515625,
        -488.58477783203125
      ],
      "size": [
        441,
        26
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            78
          ]
        }
      ],
      "properties": {
        "aux_id": "joeriben/ai4artsed_comfyui",
        "ver": "e511931edb551d65374c44689e76c08794ed31e7",
        "Node name for S&R": "ai4artsed_openrouter_key"
      },
      "widgets_values": []
    },
    {
      "id": 5,
      "type": "EmptyLatentImage",
      "pos": [
        1828.4722900390625,
        881.8092041015625
      ],
      "size": [
        315,
        106
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            2
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        1024,
        1024,
        1
      ]
    },
    {
      "id": 3,
      "type": "KSampler",
      "pos": [
        1987.0848388671875,
        1111.06494140625
      ],
      "size": [
        352.9214782714844,
        262
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 1
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 4
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 6
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 2
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            7
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        628979781917223,
        "randomize",
        25,
        7,
        "euler",
        "normal",
        1
      ]
    },
    {
      "id": 4,
      "type": "CheckpointLoaderSimple",
      "pos": [
        -187.88987731933594,
        326.27716064453125
      ],
      "size": [
        730.3237915039062,
        114.64132690429688
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            1
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": []
        },
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 2,
          "links": [
            8
          ]
        }
      ],
      "title": "Choose your model (or leave the preset)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.27",
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "sd3.5_large_fp8_scaled.safetensors"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 48,
      "type": "CLIPLoader",
      "pos": [
        227.64834594726562,
        519.6906127929688
      ],
      "size": [
        315,
        106
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            80,
            81
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.28",
        "Node name for S&R": "CLIPLoader"
      },
      "widgets_values": [
        "t5xxl_enconly.safetensors",
        "sd3",
        "default"
      ]
    },
    {
      "id": 45,
      "type": "ShowText",
      "pos": [
        644.8798828125,
        -909.9904174804688
      ],
      "size": [
        490.3995056152344,
        310.6941833496094
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "text",
          "type": "STRING",
          "widget": {
            "name": "text"
          },
          "link": 75
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "shape": 6,
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-show-text",
        "ver": "1.0.2",
        "Node name for S&R": "ShowText"
      },
      "widgets_values": [
        "",
        "**Stable Diffusion 3.5 Prompt:**  \n\n**Composition:**  \nA fractured, non-hierarchical plane ruptures the traditional pastoral scene. The horse is dismembered into angular, photomontaged fragments—its torso spliced with a rusted bicycle frame, legs replaced by welded machine pistons, and mane collaged from shredded newspaper headlines blaring *\"Progress!\"* and *\"Mechanized Glory.\"* The hill is reconfigured as a jagged mound of crumpled ledger sheets, industrial blueprints, and torn propaganda posters, its slope disrupted by a protruding porcelain urinal overflowing with clock springs. A disembodied mannequin arm clutching a monocle emerges from the urinal, pointing arbitrarily toward a suspended gear cluster dripping black ink. Collaged text fragments—*\"nonsense pasture,\" \"equine bourgeoisie,\" \"fracture the idyll\"*—spiral chaotically in mismatched typefaces (Gothic, Futura Bold, Cyrillic script), overlapping at obtuse angles. A distorted human face, rendered in Cubist-inspired shards, leers from the upper left, one eye replaced by a microscope lens.  \n\n**Palette and Materials:**  \nHarsh industrial tones dominate: oxidized copper, soot-black, mustard yellow, and Prussian blue clash against garish splashes of neon-green enamel and rancid-pink gouache. Surfaces simulate crumpled newsprint, blotched with faux coffee stains and adhesive residue. The horse’s mechanical segments mimic greasy steel and corroded iron textures, while the urinal gleams with a sickly pearlescent glaze. Found-object textures—wood grain, torn paper edges, smudged charcoal—are layered haphazardly, with visible glue streaks and staple holes.  \n\n**Elements in Detail:**  \n- **Horse:** Head is a photomontage of a 19th-century equine engraving grafted onto a mannequin’s plaster cheekbone; one eye is a bloodshot biological orb, the other a watch face with broken hands. Ribs expose a nested arrangement of miniature typewriter keys and pistol cartridges.  \n- **Hill:** Constructed from layered financial newspaper clippings (stock tables, bankruptcy notices) and WWI recruitment ads, torn to reveal a subsurface diagram of a steam engine. A fractured mirror shard embedded in the slope reflects a distorted, inverted image of a cavalry charge.  \n- **Text Elements:** Phrases like *\"gallop = collapse\"* and *\"nature is a faulty gear\"* are stamped in uneven block letters, bleeding into Cyrillic railway timetables and mathematical equations. One fragment, *\"DADA HORSE REJECTS GREEN,\"* is spray-painted in dripping scarlet over the urinal.  \n- **Incongruous Additions:** A taxidermied crow with wind-up key in its back perches on the gear cluster; its beak clamps a ribbon reading *\"kultur is glue.\"* A hollowed-out radio speaker, spilling moth wings, leans against the hill, its grill replaced by a monocled skull.  \n\n**Mood and Style:**  \nAnti-perspective, anti-narrative. The work rejects depth, opting for a fever-dream flatness where every element competes for dissonant attention. The horse, once a symbol of rural purity, is recast as a grotesque cyborg parodying industrial exploitation. The urinal—a nod to Duchamp’s *Fountain*—mocks both artistic and societal sanitation. Layered text fragments satirize modernity’s empty slogans. No focal point; the eye is assaulted by shrapnel-like details evoking postwar disintegration and mechanized absurdity."
      ]
    },
    {
      "id": 9,
      "type": "SaveImage",
      "pos": [
        1202.465087890625,
        -795.4258422851562
      ],
      "size": [
        939.4619750976562,
        1040.6234130859375
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 9
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.27"
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 41,
      "type": "ai4artsed_openrouter",
      "pos": [
        645.829833984375,
        -465.9161376953125
      ],
      "size": [
        487.6839294433594,
        301.44482421875
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "input_prompt",
          "type": "STRING",
          "widget": {
            "name": "input_prompt"
          },
          "link": 87
        },
        {
          "name": "input_context",
          "type": "STRING",
          "widget": {
            "name": "input_context"
          },
          "link": 61
        },
        {
          "name": "api_key",
          "type": "STRING",
          "widget": {
            "name": "api_key"
          },
          "link": 78
        }
      ],
      "outputs": [
        {
          "name": "output",
          "type": "STRING",
          "links": [
            75,
            83
          ]
        }
      ],
      "properties": {
        "aux_id": "joeriben/ai4artsed_comfyui",
        "ver": "692d35de2c1b9a882f872ac409e8824a3e8cc130",
        "Node name for S&R": "ai4artsed_openrouter"
      },
      "widgets_values": [
        "",
        "",
        "Transform the image description according to the contextual input. Make sure the result maintains a traceable relation to the input, however transformed.  Make very sure it does not serve shallow understandings or mere clichees, unless these are part of the input already and intended as such. Create a prompt for Stable Diffusion 3.5. Make sure the prompt is crafted so that SD 3.5 understands what it has to do, regardless of its limited knowledge about cultures and styles. 400 words maximum.",
        "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",
        "deepseek/deepseek-r1:free",
        "enable"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 31,
      "type": "BetterString",
      "pos": [
        -214.8545379638672,
        -555.5474853515625
      ],
      "size": [
        305.4034729003906,
        299.1319274902344
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "chain",
          "shape": 7,
          "type": "STRING",
          "widget": {
            "name": "chain"
          },
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": []
        }
      ],
      "title": "Input your prompt here",
      "properties": {
        "cnr_id": "comfyui-better-strings",
        "ver": "1.0.0",
        "Node name for S&R": "BetterString"
      },
      "widgets_values": [
        "a horse on a hill",
        ""
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 50,
      "type": "PrimitiveString",
      "pos": [
        -468.8245544433594,
        -732.7413940429688
      ],
      "size": [
        315,
        58
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            87
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.36",
        "Node name for S&R": "PrimitiveString"
      },
      "widgets_values": [
        "a banner showing DADA TEST"
      ]
    }
  ],
  "links": [
    [
      1,
      4,
      0,
      3,
      0,
      "MODEL"
    ],
    [
      2,
      5,
      0,
      3,
      3,
      "LATENT"
    ],
    [
      4,
      6,
      0,
      3,
      1,
      "CONDITIONING"
    ],
    [
      6,
      7,
      0,
      3,
      2,
      "CONDITIONING"
    ],
    [
      7,
      3,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      8,
      4,
      2,
      8,
      1,
      "VAE"
    ],
    [
      9,
      8,
      0,
      9,
      0,
      "IMAGE"
    ],
    [
      61,
      32,
      0,
      41,
      1,
      "STRING"
    ],
    [
      75,
      41,
      0,
      45,
      0,
      "STRING"
    ],
    [
      78,
      47,
      0,
      41,
      2,
      "STRING"
    ],
    [
      80,
      48,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      81,
      48,
      0,
      7,
      0,
      "CLIP"
    ],
    [
      83,
      41,
      0,
      6,
      1,
      "STRING"
    ],
    [
      87,
      50,
      0,
      41,
      0,
      "STRING"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.8140274938684021,
      "offset": [
        1222.4846091227882,
        1144.8896487985983
      ]
    }
  },
  "version": 0.4
}